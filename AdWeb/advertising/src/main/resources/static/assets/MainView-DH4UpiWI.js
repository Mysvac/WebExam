import{_ as ue,r as B,o as ze,w as da,a as V,c as le,b as y,d as b,e as P,f as N,u as M,g as Ta,h as Da,i as fi,j as hi,s as ne,E as ye,k as vi,l as pi,m as gi,n as mi,F as At,p as ca,q,t as K,v as _i,x as yi,y as fa,z as ha,A as Pe,B as O,V as _r,C as Xe,D as H,G as xe,H as xi,I as ve,J as Ze,K as X,L as ht,M as yr,N as bi,O as wi,P as Ia,S as Si,Q as Ci,R as Nt,T as Y,U as oe,W as Ti,X as Te,Y as Di,Z as fe,$ as Ii,a0 as We,a1 as Ai,a2 as Li,a3 as Pi,a4 as Aa,a5 as we,a6 as Ri,a7 as ki,a8 as vt,a9 as Oi,aa as Mi,ab as Ei,ac as Bi,ad as Ni,ae as zi,af as Vi,ag as Gi,ah as Hi,ai as Fi,aj as $i,ak as Ui,al as Wi,am as qi,an as Me,ao as Ne,ap as Jt,aq as Qt,ar as Yi,as as ee,at as La,au as xr,av as Pa,aw as Ra,ax as zt,ay as ea,az as ot,aA as ae,aB as br,aC as ta,aD as Xi,aE as Zi,aF as wr,aG as ji,aH as Ki,aI as Ji,aJ as Qi,aK as _t,aL as en,aM as tn,aN as se,aO as st,aP as an,aQ as yt,aR as rn,aS as nn,aT as on,aU as ut,aV as he,aW as _e,aX as Vt,aY as Lt,aZ as sn,a_ as ln,a$ as un,b0 as Sr,b1 as dn,b2 as cn,b3 as Cr,b4 as fn,b5 as te,b6 as hn,b7 as vn,b8 as pn,b9 as gn,ba as dt,bb as ct,bc as Pt,bd as Tr,be as Dr,bf as mn,bg as Ir,bh as qe,bi as Ar,bj as de,bk as _n,bl as Lr,bm as ka,bn as Pr,bo as Rt,bp as yn,bq as Rr,br as xn,bs as kr,bt as aa,bu as bn,bv as wn,bw as va,bx as Sn,by as Cn,bz as Tn,bA as pt,bB as Or,bC as Oa,bD as Dn,bE as kt,bF as Mr,bG as In,bH as An,bI as Ln,bJ as Pn,bK as Ma,bL as Rn,bM as Ea,bN as Ba,bO as kn,bP as On,bQ as Mn,bR as En,bS as Bn,bT as Gt,bU as Na,bV as za,bW as Nn,bX as zn,bY as Vn,bZ as Gn,b_ as Va,b$ as lt,c0 as Hn,c1 as Fn,c2 as $n,c3 as Un,c4 as Wn,c5 as qn,c6 as ra,c7 as $,c8 as me,c9 as De,ca as Yn,cb as pa,cc as Ee,cd as Xn,ce as pe,cf as Ve,cg as ga,ch as Er,ci as Zn,cj as Br,ck as Ue,cl as Nr,cm as jn,cn as Kn,co as Jn,cp as Qn,cq as eo,cr as to,cs as ao,ct as ro,cu as io,cv as no,cw as oo,cx as so,cy as lo,cz as uo,cA as co,cB as fo,cC as ho,cD as vo,cE as po,cF as go,cG as mo,cH as _o,cI as yo,cJ as xo,cK as bo,cL as wo}from "./index-C7uP3R3K.js";const So={class:"statistic-card"},Co={style:{display:"inline-flex","align-items":"center"}},To={class:"statistic-footer"},Do={class:"footer-item"},Io={class:"green"},Ao={class:"statistic-card"},Lo={style:{display:"inline-flex","align-items":"center"}},Po={class:"statistic-footer"},Ro={class:"footer-item"},ko={class:"red"},Oo={class:"statistic-card"},Mo={class:"statistic-footer"},Eo={class:"footer-item"},Bo={class:"green"},No={class:"footer-item"},zo={__name:"StyleBoard",setup(r){const e=B(98500),t=B(693700),a=B(72e3),i=async()=>{try{const o=(await ne.get("/api/website-feedback")).data;e.value=o.data.dailyActiveUsers,t.value=o.data.monthlyActiveUsers,a.value=o.data.newTransactionsToday}catch{console.error("Error fetching data:")}};return ze(()=>{i()}),da(()=>{const n=setInterval(i,5e3);return()=>clearInterval(n)}),(n, o)=>{const l=ye,s=vi,u=pi,d=gi,c=mi;return V(),le("div",null,[y(c,{gutter:16},{default:b(()=>[y(d,{span:8},{default:b(()=>[P("div",So,[y(u,{value:e.value},{title:b(()=>[P("div",Co,[o[0]||(o[0]=N(" Daily active users ")),y(s,{effect:"dark",content:"Number of users who logged into the product in one day",placement:"top"},{default:b(()=>[y(l,{style:{"margin-left":"4px"},size:12},{default:b(()=>[y(M(Ta))]),_:1})]),_:1})])]),_:1},8,["value"]),P("div",To,[P("div",Do,[o[2]||(o[2]=P("span",null,"than yesterday",-1)),P("span",Io,[o[1]||(o[1]=N(" 24% ")),y(l,null,{default:b(()=>[y(M(Da))]),_:1})])])])])]),_:1}),y(d,{span:8},{default:b(()=>[P("div",Ao,[y(u,{value:t.value},{title:b(()=>[P("div",Lo,[o[3]||(o[3]=N(" Monthly Active Users ")),y(s,{effect:"dark",content:"Number of users who logged into the product in one month",placement:"top"},{default:b(()=>[y(l,{style:{"margin-left":"4px"},size:12},{default:b(()=>[y(M(Ta))]),_:1})]),_:1})])]),_:1},8,["value"]),P("div",Po,[P("div",Ro,[o[5]||(o[5]=P("span",null,"month on month",-1)),P("span",ko,[o[4]||(o[4]=N(" 12% ")),y(l,null,{default:b(()=>[y(M(fi))]),_:1})])])])])]),_:1}),y(d,{span:8},{default:b(()=>[P("div",Oo,[y(u,{value:a.value,title:"New transactions today"},{title:b(()=>o[6]||(o[6]=[P("div",{style:{display:"inline-flex","align-items":"center"}}," New transactions today ",-1)])),_:1},8,["value"]),P("div",Mo,[P("div",Eo,[o[8]||(o[8]=P("span",null,"than yesterday",-1)),P("span",Bo,[o[7]||(o[7]=N(" 16% ")),y(l,null,{default:b(()=>[y(M(Da))]),_:1})])]),P("div",No,[y(l,{size:14},{default:b(()=>[y(M(hi))]),_:1})])])])]),_:1})]),_:1})])}}},Vo=ue(zo,[["__scopeId","data-v-53858cd8"]]),Go={class:"overview-page"},Ho={class:"styleBoard-container"},Fo={class:"overView-description-container"},$o=["src"],Uo={__name:"OverView",setup(r){const e=B("1"),t=B([{id:0,title:"轮播图1",url:"collapseImages/【哲风壁纸】下雨-商店-绿色护眼.png"},{id:1,title:"轮播图2",url:"collapseImages/【哲风壁纸】动漫女孩-夹克-常设.png"},{id:2,title:"轮播图3",url:"collapseImages/【哲风壁纸】漫画风大草原-绿色护眼.png"}]);return(a, i)=>{const n=_i,o=yi,l=fa,s=ha;return V(),le("div",Go,[i[6]||(i[6]=P("h2",null,"概览",-1)),P("div",Ho,[y(Vo),i[1]||(i[1]=P("p",null,"网站访问人数面板",-1))]),P("div",Fo,[y(o,{class:"collapse-column",modelValue:e.value,"onUpdate:modelValue":i[0]||(i[0]= u=>e.value=u),accordion:""},{default:b(()=>[y(n,{title:"仪表盘",name:"1"},{default:b(()=>i[2]||(i[2]=[P("div",{class:"collapse-item"}," 广告的数据分析页面展示了广告的详细数据，包括用户行为分析、广告效果趋势图以及不同广告位的对比分析。 ",-1)])),_:1}),y(n,{class:"collapse-column",title:"广告管理",name:"2"},{default:b(()=>i[3]||(i[3]=[P("div",{class:"collapse-item"}," 广告管理页面允许用户创建、编辑和删除广告活动，支持批量操作和广告状态的实时更新。 ",-1),P("div",{class:"collapse-item"}," 发布广告页面提供了广告素材的上传功能，支持多种广告格式（如图片、视频、文字链），并可设置广告的投放时间和目标受众。 ",-1),P("div",{class:"collapse-item"}," 用户申请广告页面展示了用户提交的广告申请，管理员可以审核申请并决定是否批准广告投放。 ",-1)])),_:1}),y(n,{class:"collapse-column",title:"用户管理",name:"3"},{default:b(()=>i[4]||(i[4]=[P("div",{class:"collapse-item"}," 用户管理页面用于展示用户信息。 ",-1)])),_:1}),y(n,{class:"collapse-column",title:"关于",name:"4"},{default:b(()=>i[5]||(i[5]=[P("div",{class:"collapse-item"}," 关于我们页面提供了平台的背景信息、团队介绍以及联系方式，帮助用户更好地了解我们的服务和愿景。 ",-1)])),_:1})]),_:1},8,["modelValue"])]),y(s,{height:"400px","motion-blur":"",style:{"border-radius":"10px","margin-top":"20px"}},{default:b(()=>[(V(!0),le(At,null,ca(t.value, u=>(V(),q(l,{key:u.id},{default:b(()=>[P("img",{src:u.url,style:{"object-fit":"cover",height:"100%",width:"100%"},alt:""},null,8,$o),P("span",null,K(u.title),1)]),_:2},1024))),128))]),_:1})])}}},Wo=ue(Uo,[["__scopeId","data-v-8360513f"]]);function et(r){return r==null?0:r.length||1}function Ga(r){return r}var qo=function(){function r(e, t, a, i, n, o){this._old=e,this._new=t,this._oldKeyGetter=a||Ga,this._newKeyGetter=i||Ga,this.context=n,this._diffModeMultiple=o==="multiple"}return r.prototype.add=function(e){return this._add=e,this},r.prototype.update=function(e){return this._update=e,this},r.prototype.updateManyToOne=function(e){return this._updateManyToOne=e,this},r.prototype.updateOneToMany=function(e){return this._updateOneToMany=e,this},r.prototype.updateManyToMany=function(e){return this._updateManyToMany=e,this},r.prototype.remove=function(e){return this._remove=e,this},r.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},r.prototype._executeOneToOne=function(){var e=this._old,t=this._new,a={},i=new Array(e.length),n=new Array(t.length);this._initIndexMap(e,null,i,"_oldKeyGetter"),this._initIndexMap(t,a,n,"_newKeyGetter");for(var o=0; o<e.length; o++){var l=i[o],s=a[l],u=et(s);if(u>1){var d=s.shift();s.length===1&&(a[l]=s[0]),this._update&&this._update(d,o)}else u===1?(a[l]=null,this._update&&this._update(s,o)):this._remove&&this._remove(o)}this._performRestAdd(n,a)},r.prototype._executeMultiple=function(){var e=this._old,t=this._new,a={},i={},n=[],o=[];this._initIndexMap(e,a,n,"_oldKeyGetter"),this._initIndexMap(t,i,o,"_newKeyGetter");for(var l=0; l<n.length; l++){var s=n[l],u=a[s],d=i[s],c=et(u),f=et(d);if(c>1&&f===1)this._updateManyToOne&&this._updateManyToOne(d,u),i[s]=null;else if(c===1&&f>1)this._updateOneToMany&&this._updateOneToMany(d,u),i[s]=null;else if(c===1&&f===1)this._update&&this._update(d,u),i[s]=null;else if(c>1&&f>1)this._updateManyToMany&&this._updateManyToMany(d,u),i[s]=null;else if(c>1)for(var h=0; h<c; h++)this._remove&&this._remove(u[h]);else this._remove&&this._remove(u)}this._performRestAdd(o,i)},r.prototype._performRestAdd=function(e, t){for(var a=0; a<e.length; a++){var i=e[a],n=t[i],o=et(n);if(o>1)for(var l=0; l<o; l++)this._add&&this._add(n[l]);else o===1&&this._add&&this._add(n);t[i]=null}},r.prototype._initIndexMap=function(e, t, a, i){for(var n=this._diffModeMultiple,o=0; o<e.length; o++){var l="_ec_"+this[i](e[o],o);if(n||(a[o]=l),!!t){var s=t[l],u=et(s);u===0?(t[l]=o,n&&a.push(l)):u===1?t[l]=[s,o]:s.push(o)}}},r}(),Yo=function(){function r(e, t){this._encode=e,this._schema=t}return r.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},r.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},r}();function Xo(r, e){var t={},a=t.encode={},i=Pe(),n=[],o=[],l={};O(r.dimensions,function(f){var h=r.getDimensionInfo(f),v=h.coordDim;if(v){var p=h.coordDimIndex;Ht(a,v)[p]=f,h.isExtraCoord||(i.set(v,1),Zo(h.type)&&(n[0]=f),Ht(l,v)[p]=r.getDimensionIndex(h.name)),h.defaultTooltip&&o.push(f)}_r.each(function(g, m){var x=Ht(a,m),_=h.otherDims[m];_!=null&&_!==!1&&(x[_]=h.name)})});var s=[],u={};i.each(function(f, h){var v=a[h];u[h]=v[0],s=s.concat(v)}),t.dataDimsOnCoord=s,t.dataDimIndicesOnCoord=Xe(s,function(f){return r.getDimensionInfo(f).storeDimIndex}),t.encodeFirstDimNotExtra=u;var d=a.label;d&&d.length&&(n=d.slice());var c=a.tooltip;return c&&c.length?o=c.slice():o.length||(o=n.slice()),a.defaultedLabel=n,a.defaultedTooltip=o,t.userOutput=new Yo(l,e),t}function Ht(r, e){return r.hasOwnProperty(e)||(r[e]=[]),r[e]}function Zo(r){return!(r==="ordinal"||r==="time")}var Dt=function(){function r(e){this.otherDims={},e!=null&&H(this,e)}return r}(),jo=Ze(),Ko={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},zr=function(){function r(e){this.dimensions=e.dimensions,this._dimOmitted=e.dimensionOmitted,this.source=e.source,this._fullDimCount=e.fullDimensionCount,this._updateDimOmitted(e.dimensionOmitted)}return r.prototype.isDimensionOmitted=function(){return this._dimOmitted},r.prototype._updateDimOmitted=function(e){this._dimOmitted=e,e&&(this._dimNameMap||(this._dimNameMap=Gr(this.source)))},r.prototype.getSourceDimensionIndex=function(e){return xe(this._dimNameMap.get(e),-1)},r.prototype.getSourceDimension=function(e){var t=this.source.dimensionsDefine;if(t)return t[e]},r.prototype.makeStoreSchema=function(){for(var e=this._fullDimCount,t=xi(this.source),a=!Hr(e),i="",n=[],o=0,l=0; o<e; o++){var s=void 0,u=void 0,d=void 0,c=this.dimensions[l];if(c&&c.storeDimIndex===o)s=t?c.name:null,u=c.type,d=c.ordinalMeta,l++;else{var f=this.getSourceDimension(o);f&&(s=t?f.name:null,u=f.type)}n.push({property:s,type:u,ordinalMeta:d}),t&&s!=null&&(!c||!c.isCalculationCoord)&&(i+=a?s.replace(/\`/g,"`1").replace(/\$/g,"`2"):s),i+="$",i+=Ko[u]||"f",d&&(i+=d.uid),i+="$"}var h=this.source,v=[h.seriesLayoutBy,h.startIndex,i].join("$$");return{dimensions:n,hash:v}},r.prototype.makeOutputDimensionNames=function(){for(var e=[],t=0,a=0; t<this._fullDimCount; t++){var i=void 0,n=this.dimensions[a];if(n&&n.storeDimIndex===t)n.isCalculationCoord||(i=n.name),a++;else{var o=this.getSourceDimension(t);o&&(i=o.name)}e.push(i)}return e},r.prototype.appendCalculationDimension=function(e){this.dimensions.push(e),e.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},r}();function Jo(r){return r instanceof zr}function Vr(r){for(var e=Pe(),t=0; t<(r||[]).length; t++){var a=r[t],i=ve(a)?a.name:a;i!=null&&e.get(i)==null&&e.set(i,t)}return e}function Gr(r){var e=jo(r);return e.dimNameMap||(e.dimNameMap=Vr(r.dimensionsDefine))}function Hr(r){return r>30}var tt=ve,Se=Xe,Qo=typeof Int32Array>"u"?Array:Int32Array,es="e\0\0",Ha=-1,ts=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],as=["_approximateExtent"],Fa,xt,at,rt,Ft,bt,$t,rs=function(){function r(e, t){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var a,i=!1;Jo(e)?(a=e.dimensions,this._dimOmitted=e.isDimensionOmitted(),this._schema=e):(i=!0,a=e),a=a||["x","y"];for(var n={},o=[],l={},s=!1,u={},d=0; d<a.length; d++){var c=a[d],f=X(c)?new Dt({name:c}):c instanceof Dt?c:new Dt(c),h=f.name;f.type=f.type||"float",f.coordDim||(f.coordDim=h,f.coordDimIndex=0);var v=f.otherDims=f.otherDims||{};o.push(h),n[h]=f,u[h]!=null&&(s=!0),f.createInvertedIndices&&(l[h]=[]),v.itemName===0&&(this._nameDimIdx=d),v.itemId===0&&(this._idDimIdx=d),i&&(f.storeDimIndex=d)}if(this.dimensions=o,this._dimInfos=n,this._initGetDimensionInfo(s),this.hostModel=t,this._invertedIndicesMap=l,this._dimOmitted){var p=this._dimIdxToName=Pe();O(o,function(g){p.set(n[g].storeDimIndex,g)})}}return r.prototype.getDimension=function(e){var t=this._recognizeDimIndex(e);if(t==null)return e;if(t=e,!this._dimOmitted)return this.dimensions[t];var a=this._dimIdxToName.get(t);if(a!=null)return a;var i=this._schema.getSourceDimension(t);if(i)return i.name},r.prototype.getDimensionIndex=function(e){var t=this._recognizeDimIndex(e);if(t!=null)return t;if(e==null)return-1;var a=this._getDimInfo(e);return a?a.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(e):-1},r.prototype._recognizeDimIndex=function(e){if(ht(e)||e!=null&&!isNaN(e)&&!this._getDimInfo(e)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(e)<0))return+e},r.prototype._getStoreDimIndex=function(e){var t=this.getDimensionIndex(e);return t},r.prototype.getDimensionInfo=function(e){return this._getDimInfo(this.getDimension(e))},r.prototype._initGetDimensionInfo=function(e){var t=this._dimInfos;this._getDimInfo=e?function(a){return t.hasOwnProperty(a)?t[a]:void 0}:function(a){return t[a]}},r.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},r.prototype.mapDimension=function(e, t){var a=this._dimSummary;if(t==null)return a.encodeFirstDimNotExtra[e];var i=a.encode[e];return i?i[t]:null},r.prototype.mapDimensionsAll=function(e){var t=this._dimSummary,a=t.encode[e];return(a||[]).slice()},r.prototype.getStore=function(){return this._store},r.prototype.initData=function(e, t, a){var i=this,n;if(e instanceof Ia&&(n=e),!n){var o=this.dimensions,l=yr(e)||bi(e)?new wi(e,o.length):e;n=new Ia;var s=Se(o,function(u){return{type:i._dimInfos[u].type,property:u}});n.initData(l,s,a)}this._store=n,this._nameList=(t||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,n.count()),this._dimSummary=Xo(this,this._schema),this.userOutput=this._dimSummary.userOutput},r.prototype.appendData=function(e){var t=this._store.appendData(e);this._doInit(t[0],t[1])},r.prototype.appendValues=function(e, t){var a=this._store.appendValues(e,t.length),i=a.start,n=a.end,o=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),t)for(var l=i; l<n; l++){var s=l-i;this._nameList[l]=t[s],o&&$t(this,l)}},r.prototype._updateOrdinalMeta=function(){for(var e=this._store,t=this.dimensions,a=0; a<t.length; a++){var i=this._dimInfos[t[a]];i.ordinalMeta&&e.collectOrdinalMeta(i.storeDimIndex,i.ordinalMeta)}},r.prototype._shouldMakeIdFromName=function(){var e=this._store.getProvider();return this._idDimIdx==null&&e.getSource().sourceFormat!==Si&&!e.fillStorage},r.prototype._doInit=function(e, t){if(!(e>=t)){var a=this._store,i=a.getProvider();this._updateOrdinalMeta();var n=this._nameList,o=this._idList,l=i.getSource().sourceFormat,s=l===Ai;if(s&&!i.pure)for(var u=[],d=e; d<t; d++){var c=i.getItem(d,u);if(!this.hasItemOption&&Ci(c)&&(this.hasItemOption=!0),c){var f=c.name;n[d]==null&&f!=null&&(n[d]=Nt(f,null));var h=c.id;o[d]==null&&h!=null&&(o[d]=Nt(h,null))}}if(this._shouldMakeIdFromName())for(var d=e; d<t; d++)$t(this,d);Fa(this)}},r.prototype.getApproximateExtent=function(e){return this._approximateExtent[e]||this._store.getDataExtent(this._getStoreDimIndex(e))},r.prototype.setApproximateExtent=function(e, t){t=this.getDimension(t),this._approximateExtent[t]=e.slice()},r.prototype.getCalculationInfo=function(e){return this._calculationInfo[e]},r.prototype.setCalculationInfo=function(e, t){tt(e)?H(this._calculationInfo,e):this._calculationInfo[e]=t},r.prototype.getName=function(e){var t=this.getRawIndex(e),a=this._nameList[t];return a==null&&this._nameDimIdx!=null&&(a=at(this,this._nameDimIdx,t)),a==null&&(a=""),a},r.prototype._getCategory=function(e, t){var a=this._store.get(e,t),i=this._store.getOrdinalMeta(e);return i?i.categories[a]:a},r.prototype.getId=function(e){return xt(this,this.getRawIndex(e))},r.prototype.count=function(){return this._store.count()},r.prototype.get=function(e, t){var a=this._store,i=this._dimInfos[e];if(i)return a.get(i.storeDimIndex,t)},r.prototype.getByRawIndex=function(e, t){var a=this._store,i=this._dimInfos[e];if(i)return a.getByRawIndex(i.storeDimIndex,t)},r.prototype.getIndices=function(){return this._store.getIndices()},r.prototype.getDataExtent=function(e){return this._store.getDataExtent(this._getStoreDimIndex(e))},r.prototype.getSum=function(e){return this._store.getSum(this._getStoreDimIndex(e))},r.prototype.getMedian=function(e){return this._store.getMedian(this._getStoreDimIndex(e))},r.prototype.getValues=function(e, t){var a=this,i=this._store;return Y(e)?i.getValues(Se(e,function(n){return a._getStoreDimIndex(n)}),t):i.getValues(e)},r.prototype.hasValue=function(e){for(var t=this._dimSummary.dataDimIndicesOnCoord,a=0,i=t.length; a<i; a++)if(isNaN(this._store.get(t[a],e)))return!1;return!0},r.prototype.indexOfName=function(e){for(var t=0,a=this._store.count(); t<a; t++)if(this.getName(t)===e)return t;return-1},r.prototype.getRawIndex=function(e){return this._store.getRawIndex(e)},r.prototype.indexOfRawIndex=function(e){return this._store.indexOfRawIndex(e)},r.prototype.rawIndexOf=function(e, t){var a=e&&this._invertedIndicesMap[e],i=a[t];return i==null||isNaN(i)?Ha:i},r.prototype.indicesOfNearest=function(e, t, a){return this._store.indicesOfNearest(this._getStoreDimIndex(e),t,a)},r.prototype.each=function(e, t, a){fe(e)&&(a=t,t=e,e=[]);var i=a||this,n=Se(rt(e),this._getStoreDimIndex,this);this._store.each(n,i?oe(t,i):t)},r.prototype.filterSelf=function(e, t, a){fe(e)&&(a=t,t=e,e=[]);var i=a||this,n=Se(rt(e),this._getStoreDimIndex,this);return this._store=this._store.filter(n,i?oe(t,i):t),this},r.prototype.selectRange=function(e){var t=this,a={},i=Ti(e);return O(i,function(n){var o=t._getStoreDimIndex(n);a[o]=e[n]}),this._store=this._store.selectRange(a),this},r.prototype.mapArray=function(e, t, a){fe(e)&&(a=t,t=e,e=[]),a=a||this;var i=[];return this.each(e,function(){i.push(t&&t.apply(this,arguments))},a),i},r.prototype.map=function(e, t, a, i){var n=a||i||this,o=Se(rt(e),this._getStoreDimIndex,this),l=bt(this);return l._store=this._store.map(o,n?oe(t,n):t),l},r.prototype.modify=function(e, t, a, i){var n=a||i||this,o=Se(rt(e),this._getStoreDimIndex,this);this._store.modify(o,n?oe(t,n):t)},r.prototype.downSample=function(e, t, a, i){var n=bt(this);return n._store=this._store.downSample(this._getStoreDimIndex(e),t,a,i),n},r.prototype.lttbDownSample=function(e, t){var a=bt(this);return a._store=this._store.lttbDownSample(this._getStoreDimIndex(e),t),a},r.prototype.getRawDataItem=function(e){return this._store.getRawDataItem(e)},r.prototype.getItemModel=function(e){var t=this.hostModel,a=this.getRawDataItem(e);return new Te(a,t,t&&t.ecModel)},r.prototype.diff=function(e){var t=this;return new qo(e?e.getStore().getIndices():[],this.getStore().getIndices(),function(a){return xt(e,a)},function(a){return xt(t,a)})},r.prototype.getVisual=function(e){var t=this._visual;return t&&t[e]},r.prototype.setVisual=function(e, t){this._visual=this._visual||{},tt(e)?H(this._visual,e):this._visual[e]=t},r.prototype.getItemVisual=function(e, t){var a=this._itemVisuals[e],i=a&&a[t];return i??this.getVisual(t)},r.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},r.prototype.ensureUniqueItemVisual=function(e, t){var a=this._itemVisuals,i=a[e];i||(i=a[e]={});var n=i[t];return n==null&&(n=this.getVisual(t),Y(n)?n=n.slice():tt(n)&&(n=H({},n)),i[t]=n),n},r.prototype.setItemVisual=function(e, t, a){var i=this._itemVisuals[e]||{};this._itemVisuals[e]=i,tt(t)?H(i,t):i[t]=a},r.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},r.prototype.setLayout=function(e, t){tt(e)?H(this._layout,e):this._layout[e]=t},r.prototype.getLayout=function(e){return this._layout[e]},r.prototype.getItemLayout=function(e){return this._itemLayouts[e]},r.prototype.setItemLayout=function(e, t, a){this._itemLayouts[e]=a?H(this._itemLayouts[e]||{},t):t},r.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},r.prototype.setItemGraphicEl=function(e, t){var a=this.hostModel&&this.hostModel.seriesIndex;Di(a,this.dataType,e,t),this._graphicEls[e]=t},r.prototype.getItemGraphicEl=function(e){return this._graphicEls[e]},r.prototype.eachItemGraphicEl=function(e, t){O(this._graphicEls,function(a, i){a&&e&&e.call(t,a,i)})},r.prototype.cloneShallow=function(e){return e||(e=new r(this._schema?this._schema:Se(this.dimensions,this._getDimInfo,this),this.hostModel)),Ft(e,this),e._store=this._store,e},r.prototype.wrapMethod=function(e, t){var a=this[e];fe(a)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(e),this[e]=function(){var i=a.apply(this,arguments);return t.apply(this,[i].concat(Ii(arguments)))})},r.internalField=function(){Fa=function(e){var t=e._invertedIndicesMap;O(t,function(a, i){var n=e._dimInfos[i],o=n.ordinalMeta,l=e._store;if(o){a=t[i]=new Qo(o.categories.length);for(var s=0; s<a.length; s++)a[s]=Ha;for(var s=0; s<l.count(); s++)a[l.get(n.storeDimIndex,s)]=s}})},at=function(e, t, a){return Nt(e._getCategory(t,a),null)},xt=function(e, t){var a=e._idList[t];return a==null&&e._idDimIdx!=null&&(a=at(e,e._idDimIdx,t)),a==null&&(a=es+t),a},rt=function(e){return Y(e)||(e=e!=null?[e]:[]),e},bt=function(e){var t=new r(e._schema?e._schema:Se(e.dimensions,e._getDimInfo,e),e.hostModel);return Ft(t,e),t},Ft=function(e, t){O(ts.concat(t.__wrappedMethods||[]),function(a){t.hasOwnProperty(a)&&(e[a]=t[a])}),e.__wrappedMethods=t.__wrappedMethods,O(as,function(a){e[a]=We(t[a])}),e._calculationInfo=H({},t._calculationInfo)},$t=function(e, t){var a=e._nameList,i=e._idList,n=e._nameDimIdx,o=e._idDimIdx,l=a[t],s=i[t];if(l==null&&n!=null&&(a[t]=l=at(e,n,t)),s==null&&o!=null&&(i[t]=s=at(e,o,t)),s==null&&l!=null){var u=e._nameRepeatCount,d=u[l]=(u[l]||0)+1;s=l,d>1&&(s+="__ec__"+d),i[t]=s}}}(),r}();function is(r, e){yr(r)||(r=Li(r)),e=e||{};var t=e.coordDimensions||[],a=e.dimensionsDefine||r.dimensionsDefine||[],i=Pe(),n=[],o=os(r,t,a,e.dimensionsCount),l=e.canOmitUnusedDimensions&&Hr(o),s=a===r.dimensionsDefine,u=s?Gr(r):Vr(a),d=e.encodeDefine;!d&&e.encodeDefaulter&&(d=e.encodeDefaulter(r,o));for(var c=Pe(d),f=new Pi(o),h=0; h<f.length; h++)f[h]=-1;function v(A){var I=f[A];if(I<0){var L=a[A],k=ve(L)?L:{name:L},R=new Dt,z=k.name;z!=null&&u.get(z)!=null&&(R.name=R.displayName=z),k.type!=null&&(R.type=k.type),k.displayName!=null&&(R.displayName=k.displayName);var E=n.length;return f[A]=E,R.storeDimIndex=A,n.push(R),R}return n[I]}if(!l)for(var h=0; h<o; h++)v(h);c.each(function(A, I){var L=Aa(A).slice();if(L.length===1&&!X(L[0])&&L[0]<0){c.set(I,!1);return}var k=c.set(I,[]);O(L,function(R, z){var E=X(R)?u.get(R):R;E!=null&&E<o&&(k[z]=E,g(v(E),I,z))})});var p=0;O(t,function(A){var I,L,k,R;if(X(A))I=A,R={};else{R=A,I=R.name;var z=R.ordinalMeta;R.ordinalMeta=null,R=H({},R),R.ordinalMeta=z,L=R.dimsDef,k=R.otherDims,R.name=R.coordDim=R.coordDimIndex=R.dimsDef=R.otherDims=null}var E=c.get(I);if(E!==!1){if(E=Aa(E),!E.length)for(var Z=0; Z<(L&&L.length||1); Z++){for(; p<o&&v(p).coordDim!=null;)p++;p<o&&E.push(p++)}O(E,function(re, J){var G=v(re);if(s&&R.type!=null&&(G.type=R.type),g(we(G,R),I,J),G.name==null&&L){var F=L[J];!ve(F)&&(F={name:F}),G.name=G.displayName=F.name,G.defaultTooltip=F.defaultTooltip}k&&we(G.otherDims,k)})}});function g(A, I, L){_r.get(I)!=null?A.otherDims[I]=L:(A.coordDim=I,A.coordDimIndex=L,i.set(I,!0))}var m=e.generateCoord,x=e.generateCoordCount,_=x!=null;x=m?x||1:0;var w=m||"value";function S(A){A.name==null&&(A.name=A.coordDim)}if(l)O(n,function(A){S(A)}),n.sort(function(A, I){return A.storeDimIndex-I.storeDimIndex});else for(var D=0; D<o; D++){var T=v(D),C=T.coordDim;C==null&&(T.coordDim=ss(w,i,_),T.coordDimIndex=0,(!m||x<=0)&&(T.isExtraCoord=!0),x--),S(T),T.type==null&&(Ri(r,D)===ki.Must||T.isExtraCoord&&(T.otherDims.itemName!=null||T.otherDims.seriesName!=null))&&(T.type="ordinal")}return ns(n),new zr({source:r,dimensions:n,fullDimensionCount:o,dimensionOmitted:l})}function ns(r){for(var e=Pe(),t=0; t<r.length; t++){var a=r[t],i=a.name,n=e.get(i)||0;n>0&&(a.name=i+(n-1)),n++,e.set(i,n)}}function os(r, e, t, a){var i=Math.max(r.dimensionsDetectedCount||1,e.length,t.length,a||0);return O(e,function(n){var o;ve(n)&&(o=n.dimsDef)&&(i=Math.max(i,o.length))}),i}function ss(r, e, t){if(t||e.hasKey(r)){for(var a=0; e.hasKey(r+a);)a++;r+=a}return e.set(r,!0),r}function Fr(r, e){return r.type==="category"?r.scale.getLabel(e):e.value}function ls(r){var e=r.get("interval");return e??"auto"}function us(r){return r.type==="category"&&ls(r.getLabelModel())===0}var $a=[],ds={registerPreprocessor:Oi,registerProcessor:Mi,registerPostInit:Ei,registerPostUpdate:Bi,registerUpdateLifecycle:Ni,registerAction:zi,registerCoordinateSystem:Vi,registerLayout:Gi,registerVisual:Hi,registerTransform:Fi,registerLoading:$i,registerMap:Ui,registerImpl:Wi,PRIORITY:qi,ComponentModel:Me,ComponentView:Ne,SeriesModel:Jt,ChartView:Qt,registerComponentModel:function(r){Me.registerClass(r)},registerComponentView:function(r){Ne.registerClass(r)},registerSeriesModel:function(r){Jt.registerClass(r)},registerChartView:function(r){Qt.registerClass(r)},registerSubTypeDefaulter:function(r, e){Me.registerSubTypeDefaulter(r,e)},registerPainter:function(r, e){Yi(r,e)}};function Ye(r){if(Y(r)){O(r,function(e){Ye(e)});return}vt($a,r)>=0||($a.push(r),fe(r)&&(r={install:r}),r.install(ds))}function $r(r, e, t, a, i, n, o, l){var s=i-r,u=n-e,d=t-r,c=a-e,f=Math.sqrt(d*d+c*c);d/=f,c/=f;var h=s*d+u*c,v=h/f;v*=f;var p=o[0]=r+v*d,g=o[1]=e+v*c;return Math.sqrt((p-i)*(p-i)+(g-n)*(g-n))}var Ie=new ee,U=new ee,Q=new ee,Ae=new ee,ge=new ee,Ot=[],ie=new ee;function cs(r, e){if(e<=180&&e>0){e=e/180*Math.PI,Ie.fromArray(r[0]),U.fromArray(r[1]),Q.fromArray(r[2]),ee.sub(Ae,Ie,U),ee.sub(ge,Q,U);var t=Ae.len(),a=ge.len();if(!(t<.001||a<.001)){Ae.scale(1/t),ge.scale(1/a);var i=Ae.dot(ge),n=Math.cos(e);if(n<i){var o=$r(U.x,U.y,Q.x,Q.y,Ie.x,Ie.y,Ot);ie.fromArray(Ot),ie.scaleAndAdd(ge,o/Math.tan(Math.PI-e));var l=Q.x!==U.x?(ie.x-U.x)/(Q.x-U.x):(ie.y-U.y)/(Q.y-U.y);if(isNaN(l))return;l<0?ee.copy(ie,U):l>1&&ee.copy(ie,Q),ie.toArray(r[1])}}}}function fs(r, e, t){if(t<=180&&t>0){t=t/180*Math.PI,Ie.fromArray(r[0]),U.fromArray(r[1]),Q.fromArray(r[2]),ee.sub(Ae,U,Ie),ee.sub(ge,Q,U);var a=Ae.len(),i=ge.len();if(!(a<.001||i<.001)){Ae.scale(1/a),ge.scale(1/i);var n=Ae.dot(e),o=Math.cos(t);if(n<o){var l=$r(U.x,U.y,Q.x,Q.y,Ie.x,Ie.y,Ot);ie.fromArray(Ot);var s=Math.PI/2,u=Math.acos(ge.dot(e)),d=s+u-t;if(d>=s)ee.copy(ie,Q);else{ie.scaleAndAdd(ge,l/Math.tan(Math.PI/2-d));var c=Q.x!==U.x?(ie.x-U.x)/(Q.x-U.x):(ie.y-U.y)/(Q.y-U.y);if(isNaN(c))return;c<0?ee.copy(ie,U):c>1&&ee.copy(ie,Q)}ie.toArray(r[1])}}}}function Ut(r, e, t, a){var i=t==="normal",n=i?r:r.ensureState(t);n.ignore=e;var o=a.get("smooth");o&&o===!0&&(o=.3),n.shape=n.shape||{},o>0&&(n.shape.smooth=o);var l=a.getModel("lineStyle").getLineStyle();i?r.useStyle(l):n.style=l}function hs(r, e){var t=e.smooth,a=e.points;if(a)if(r.moveTo(a[0][0],a[0][1]),t>0&&a.length>=3){var i=Ra(a[0],a[1]),n=Ra(a[1],a[2]);if(!i||!n){r.lineTo(a[1][0],a[1][1]),r.lineTo(a[2][0],a[2][1]);return}var o=Math.min(i,n)*t,l=zt([],a[1],a[0],o/i),s=zt([],a[1],a[2],o/n),u=zt([],l,s,.5);r.bezierCurveTo(l[0],l[1],l[0],l[1],u[0],u[1]),r.bezierCurveTo(s[0],s[1],s[0],s[1],a[2][0],a[2][1])}else for(var d=1; d<a.length; d++)r.lineTo(a[d][0],a[d][1])}function vs(r, e, t){var a=r.getTextGuideLine(),i=r.getTextContent();if(!i){a&&r.removeTextGuideLine();return}for(var n=e.normal,o=n.get("show"),l=i.ignore,s=0; s<La.length; s++){var u=La[s],d=e[u],c=u==="normal";if(d){var f=d.get("show"),h=c?l:xe(i.states[u]&&i.states[u].ignore,l);if(h||!xe(f,o)){var v=c?a:a&&a.states[u];v&&(v.ignore=!0),a&&Ut(a,!0,u,d);continue}a||(a=new xr,r.setTextGuideLine(a),!c&&(l||!o)&&Ut(a,!0,"normal",e.normal),r.stateProxy&&(a.stateProxy=r.stateProxy)),Ut(a,!1,u,d)}}if(a){we(a.style,t),a.style.fill=null;var p=n.get("showAbove"),g=r.textGuideLineConfig=r.textGuideLineConfig||{};g.showAbove=p||!1,a.buildPath=hs}}function ps(r, e){e=e||"labelLine";for(var t={normal:r.getModel(e)},a=0; a<Pa.length; a++){var i=Pa[a];t[i]=r.getModel([i,e])}return t}function gs(r){for(var e=[],t=0; t<r.length; t++){var a=r[t];if(!a.defaultAttr.ignore){var i=a.label,n=i.getComputedTransform(),o=i.getBoundingRect(),l=!n||n[1]<1e-5&&n[2]<1e-5,s=i.style.margin||0,u=o.clone();u.applyTransform(n),u.x-=s/2,u.y-=s/2,u.width+=s,u.height+=s;var d=l?new ea(o,n):null;e.push({label:i,labelLine:a.labelLine,rect:u,localRect:o,obb:d,priority:a.priority,defaultAttr:a.defaultAttr,layoutOption:a.computedLayoutOption,axisAligned:l,transform:n})}}return e}function ms(r, e, t, a, i, n){var o=r.length;if(o<2)return;r.sort(function(C, A){return C.rect[e]-A.rect[e]});for(var l=0,s,u=!1,d=0,c=0; c<o; c++){var f=r[c],h=f.rect;s=h[e]-l,s<0&&(h[e]-=s,f.label[e]-=s,u=!0);var v=Math.max(-s,0);d+=v,l=h[e]+h[t]}d>0&&n&&S(-d/o,0,o);var p=r[0],g=r[o-1],m,x;_(),m<0&&D(-m,.8),x<0&&D(x,.8),_(),w(m,x,1),w(x,m,-1),_(),m<0&&T(-m),x<0&&T(x);function _(){m=p.rect[e]-a,x=i-g.rect[e]-g.rect[t]}function w(C, A, I){if(C<0){var L=Math.min(A,-C);if(L>0){S(L*I,0,o);var k=L+C;k<0&&D(-k*I,1)}else D(-C*I,1)}}function S(C, A, I){C!==0&&(u=!0);for(var L=A; L<I; L++){var k=r[L],R=k.rect;R[e]+=C,k.label[e]+=C}}function D(C, A){for(var I=[],L=0,k=1; k<o; k++){var R=r[k-1].rect,z=Math.max(r[k].rect[e]-R[e]-R[t],0);I.push(z),L+=z}if(L){var E=Math.min(Math.abs(C)/L,A);if(C>0)for(var k=0; k<o-1; k++){var Z=I[k]*E;S(Z,0,k+1)}else for(var k=o-1; k>0; k--){var Z=I[k-1]*E;S(-Z,k,o)}}}function T(C){var A=C<0?-1:1;C=Math.abs(C);for(var I=Math.ceil(C/(o-1)),L=0; L<o-1; L++)if(A>0?S(I,0,L+1):S(-I,o-L-1,o),C-=I,C<=0)return}return u}function _s(r, e, t, a){return ms(r,"y","height",e,t,a)}function ys(r){var e=[];r.sort(function(p, g){return g.priority-p.priority});var t=new ot(0,0,0,0);function a(p){if(!p.ignore){var g=p.ensureState("emphasis");g.ignore==null&&(g.ignore=!1)}p.ignore=!0}for(var i=0; i<r.length; i++){var n=r[i],o=n.axisAligned,l=n.localRect,s=n.transform,u=n.label,d=n.labelLine;t.copy(n.rect),t.width-=.1,t.height-=.1,t.x+=.05,t.y+=.05;for(var c=n.obb,f=!1,h=0; h<e.length; h++){var v=e[h];if(t.intersect(v.rect)){if(o&&v.axisAligned){f=!0;break}if(v.obb||(v.obb=new ea(v.localRect,v.transform)),c||(c=new ea(l,s)),c.intersect(v.obb)){f=!0;break}}}f?(a(u),d&&a(d)):(u.attr("ignore",n.defaultAttr.ignore),d&&d.attr("ignore",n.defaultAttr.labelGuideIgnore),e.push(n))}}function Ua(r, e, t){var a=Zi.createCanvas(),i=e.getWidth(),n=e.getHeight(),o=a.style;return o&&(o.position="absolute",o.left="0",o.top="0",o.width=i+"px",o.height=n+"px",a.setAttribute("data-zr-dom-id",r)),a.width=i*t,a.height=n*t,a}var Wt=function(r){ae(e,r);function e(t, a, i){var n=r.call(this)||this;n.motionBlur=!1,n.lastFrameAlpha=.7,n.dpr=1,n.virtual=!1,n.config={},n.incremental=!1,n.zlevel=0,n.maxRepaintRectCount=5,n.__dirty=!0,n.__firstTimePaint=!0,n.__used=!1,n.__drawIndex=0,n.__startIndex=0,n.__endIndex=0,n.__prevStartIndex=null,n.__prevEndIndex=null;var o;i=i||wr,typeof t=="string"?o=Ua(t,a,i):ve(t)&&(o=t,t=o.id),n.id=t,n.dom=o;var l=o.style;return l&&(br(o),o.onselectstart=function(){return!1},l.padding="0",l.margin="0",l.borderWidth="0"),n.painter=a,n.dpr=i,n}return e.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},e.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},e.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},e.prototype.setUnpainted=function(){this.__firstTimePaint=!0},e.prototype.createBackBuffer=function(){var t=this.dpr;this.domBack=Ua("back-"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext("2d"),t!==1&&this.ctxBack.scale(t,t)},e.prototype.createRepaintRects=function(t, a, i, n){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var o=[],l=this.maxRepaintRectCount,s=!1,u=new ot(0,0,0,0);function d(x){if(!(!x.isFinite()||x.isZero()))if(o.length===0){var _=new ot(0,0,0,0);_.copy(x),o.push(_)}else{for(var w=!1,S=1/0,D=0,T=0; T<o.length; ++T){var C=o[T];if(C.intersect(x)){var A=new ot(0,0,0,0);A.copy(C),A.union(x),o[T]=A,w=!0;break}else if(s){u.copy(x),u.union(C);var I=x.width*x.height,L=C.width*C.height,k=u.width*u.height,R=k-I-L;R<S&&(S=R,D=T)}}if(s&&(o[D].union(x),w=!0),!w){var _=new ot(0,0,0,0);_.copy(x),o.push(_)}s||(s=o.length>=l)}}for(var c=this.__startIndex; c<this.__endIndex; ++c){var f=t[c];if(f){var h=f.shouldBePainted(i,n,!0,!0),v=f.__isRendered&&(f.__dirty&ta||!h)?f.getPrevPaintRect():null;v&&d(v);var p=h&&(f.__dirty&ta||!f.__isRendered)?f.getPaintRect():null;p&&d(p)}}for(var c=this.__prevStartIndex; c<this.__prevEndIndex; ++c){var f=a[c],h=f&&f.shouldBePainted(i,n,!0,!0);if(f&&(!h||!f.__zr)&&f.__isRendered){var v=f.getPrevPaintRect();v&&d(v)}}var g;do{g=!1;for(var c=0; c<o.length;){if(o[c].isZero()){o.splice(c,1);continue}for(var m=c+1; m<o.length;)o[c].intersect(o[m])?(g=!0,o[c].union(o[m]),o.splice(m,1)):m++;c++}}while(g);return this._paintRects=o,o},e.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},e.prototype.resize=function(t, a){var i=this.dpr,n=this.dom,o=n.style,l=this.domBack;o&&(o.width=t+"px",o.height=a+"px"),n.width=t*i,n.height=a*i,l&&(l.width=t*i,l.height=a*i,i!==1&&this.ctxBack.scale(i,i))},e.prototype.clear=function(t, a, i){var n=this.dom,o=this.ctx,l=n.width,s=n.height;a=a||this.clearColor;var u=this.motionBlur&&!t,d=this.lastFrameAlpha,c=this.dpr,f=this;u&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(n,0,0,l/c,s/c));var h=this.domBack;function v(p, g, m, x){if(o.clearRect(p,g,m,x),a&&a!=="transparent"){var _=void 0;if(ji(a)){var w=a.global||a.__width===m&&a.__height===x;_=w&&a.__canvasGradient||Ki(o,a,{x:0,y:0,width:m,height:x}),a.__canvasGradient=_,a.__width=m,a.__height=x}else Ji(a)&&(a.scaleX=a.scaleX||c,a.scaleY=a.scaleY||c,_=Qi(o,a,{dirty:function(){f.setUnpainted(),f.painter.refresh()}}));o.save(),o.fillStyle=_||a,o.fillRect(p,g,m,x),o.restore()}u&&(o.save(),o.globalAlpha=d,o.drawImage(h,p,g,m,x),o.restore())}!i||u?v(0,0,l,s):i.length&&O(i,function(p){v(p.x*c,p.y*c,p.width*c,p.height*c)})},e}(Xi),Wa=1e5,ke=314159,wt=.01,xs=.001;function bs(r){return r?r.__builtin__?!0:!(typeof r.resize!="function"||typeof r.refresh!="function"):!1}function ws(r, e){var t=document.createElement("div");return t.style.cssText=["position:relative","width:"+r+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";",t}var Ss=function(){function r(e, t, a, i){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var n=!e.nodeName||e.nodeName.toUpperCase()==="CANVAS";this._opts=a=H({},a||{}),this.dpr=a.devicePixelRatio||wr,this._singleCanvas=n,this.root=e;var o=e.style;o&&(br(e),e.innerHTML=""),this.storage=t;var l=this._zlevelList;this._prevDisplayList=[];var s=this._layers;if(n){var d=e,c=d.width,f=d.height;a.width!=null&&(c=a.width),a.height!=null&&(f=a.height),this.dpr=a.devicePixelRatio||1,d.width=c*this.dpr,d.height=f*this.dpr,this._width=c,this._height=f;var h=new Wt(d,this,this.dpr);h.__builtin__=!0,h.initContext(),s[ke]=h,h.zlevel=ke,l.push(ke),this._domRoot=e}else{this._width=yt(e,0,a),this._height=yt(e,1,a);var u=this._domRoot=ws(this._width,this._height);e.appendChild(u)}}return r.prototype.getType=function(){return"canvas"},r.prototype.isSingleCanvas=function(){return this._singleCanvas},r.prototype.getViewportRoot=function(){return this._domRoot},r.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},r.prototype.refresh=function(e){var t=this.storage.getDisplayList(!0),a=this._prevDisplayList,i=this._zlevelList;this._redrawId=Math.random(),this._paintList(t,a,e,this._redrawId);for(var n=0; n<i.length; n++){var o=i[n],l=this._layers[o];if(!l.__builtin__&&l.refresh){var s=n===0?this._backgroundColor:null;l.refresh(s)}}return this._opts.useDirtyRect&&(this._prevDisplayList=t.slice()),this},r.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},r.prototype._paintHoverList=function(e){var t=e.length,a=this._hoverlayer;if(a&&a.clear(),!!t){for(var i={inHover:!0,viewWidth:this._width,viewHeight:this._height},n,o=0; o<t; o++){var l=e[o];l.__inHover&&(a||(a=this._hoverlayer=this.getLayer(Wa)),n||(n=a.ctx,n.save()),_t(n,l,i,o===t-1))}n&&n.restore()}},r.prototype.getHoverLayer=function(){return this.getLayer(Wa)},r.prototype.paintOne=function(e, t){en(e,t)},r.prototype._paintList=function(e, t, a, i){if(this._redrawId===i){a=a||!1,this._updateLayerStatus(e);var n=this._doPaintList(e,t,a),o=n.finished,l=n.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),l&&this._paintHoverList(e),o)this.eachLayer(function(u){u.afterBrush&&u.afterBrush()});else{var s=this;tn(function(){s._paintList(e,t,a,i)})}}},r.prototype._compositeManually=function(){var e=this.getLayer(ke).ctx,t=this._domRoot.width,a=this._domRoot.height;e.clearRect(0,0,t,a),this.eachBuiltinLayer(function(i){i.virtual&&e.drawImage(i.dom,0,0,t,a)})},r.prototype._doPaintList=function(e, t, a){for(var i=this,n=[],o=this._opts.useDirtyRect,l=0; l<this._zlevelList.length; l++){var s=this._zlevelList[l],u=this._layers[s];u.__builtin__&&u!==this._hoverlayer&&(u.__dirty||a)&&n.push(u)}for(var d=!0,c=!1,f=function(p){var g=n[p],m=g.ctx,x=o&&g.createRepaintRects(e,t,h._width,h._height),_=a?g.__startIndex:g.__drawIndex,w=!a&&g.incremental&&Date.now,S=w&&Date.now(),D=g.zlevel===h._zlevelList[0]?h._backgroundColor:null;if(g.__startIndex===g.__endIndex)g.clear(!1,D,x);else if(_===g.__startIndex){var T=e[_];(!T.incremental||!T.notClear||a)&&g.clear(!1,D,x)}_===-1&&(console.error("For some unknown reason. drawIndex is -1"),_=g.__startIndex);var C,A=function(R){var z={inHover:!1,allClipped:!1,prevEl:null,viewWidth:i._width,viewHeight:i._height};for(C=_; C<g.__endIndex; C++){var E=e[C];if(E.__inHover&&(c=!0),i._doPaintEl(E,g,o,R,z,C===g.__endIndex-1),w){var Z=Date.now()-S;if(Z>15)break}}z.prevElClipPaths&&m.restore()};if(x)if(x.length===0)C=g.__endIndex;else for(var I=h.dpr,L=0; L<x.length; ++L){var k=x[L];m.save(),m.beginPath(),m.rect(k.x*I,k.y*I,k.width*I,k.height*I),m.clip(),A(k),m.restore()}else m.save(),A(),m.restore();g.__drawIndex=C,g.__drawIndex<g.__endIndex&&(d=!1)},h=this,v=0; v<n.length; v++)f(v);return se.wxa&&O(this._layers,function(p){p&&p.ctx&&p.ctx.draw&&p.ctx.draw()}),{finished:d,needsRefreshHover:c}},r.prototype._doPaintEl=function(e, t, a, i, n, o){var l=t.ctx;if(a){var s=e.getPaintRect();(!i||s&&s.intersect(i))&&(_t(l,e,n,o),e.setPrevPaintRect(s))}else _t(l,e,n,o)},r.prototype.getLayer=function(e, t){this._singleCanvas&&!this._needsManuallyCompositing&&(e=ke);var a=this._layers[e];return a||(a=new Wt("zr_"+e,this,this.dpr),a.zlevel=e,a.__builtin__=!0,this._layerConfig[e]?st(a,this._layerConfig[e],!0):this._layerConfig[e-wt]&&st(a,this._layerConfig[e-wt],!0),t&&(a.virtual=t),this.insertLayer(e,a),a.initContext()),a},r.prototype.insertLayer=function(e, t){var a=this._layers,i=this._zlevelList,n=i.length,o=this._domRoot,l=null,s=-1;if(!a[e]&&bs(t)){if(n>0&&e>i[0]){for(s=0; s<n-1&&!(i[s]<e&&i[s+1]>e); s++);l=a[i[s]]}if(i.splice(s+1,0,e),a[e]=t,!t.virtual)if(l){var u=l.dom;u.nextSibling?o.insertBefore(t.dom,u.nextSibling):o.appendChild(t.dom)}else o.firstChild?o.insertBefore(t.dom,o.firstChild):o.appendChild(t.dom);t.painter||(t.painter=this)}},r.prototype.eachLayer=function(e, t){for(var a=this._zlevelList,i=0; i<a.length; i++){var n=a[i];e.call(t,this._layers[n],n)}},r.prototype.eachBuiltinLayer=function(e, t){for(var a=this._zlevelList,i=0; i<a.length; i++){var n=a[i],o=this._layers[n];o.__builtin__&&e.call(t,o,n)}},r.prototype.eachOtherLayer=function(e, t){for(var a=this._zlevelList,i=0; i<a.length; i++){var n=a[i],o=this._layers[n];o.__builtin__||e.call(t,o,n)}},r.prototype.getLayers=function(){return this._layers},r.prototype._updateLayerStatus=function(e){this.eachBuiltinLayer(function(c, f){c.__dirty=c.__used=!1});function t(c){n&&(n.__endIndex!==c&&(n.__dirty=!0),n.__endIndex=c)}if(this._singleCanvas)for(var a=1; a<e.length; a++){var i=e[a];if(i.zlevel!==e[a-1].zlevel||i.incremental){this._needsManuallyCompositing=!0;break}}var n=null,o=0,l,s;for(s=0; s<e.length; s++){var i=e[s],u=i.zlevel,d=void 0;l!==u&&(l=u,o=0),i.incremental?(d=this.getLayer(u+xs,this._needsManuallyCompositing),d.incremental=!0,o=1):d=this.getLayer(u+(o>0?wt:0),this._needsManuallyCompositing),d.__builtin__||an("ZLevel "+u+" has been used by unkown layer "+d.id),d!==n&&(d.__used=!0,d.__startIndex!==s&&(d.__dirty=!0),d.__startIndex=s,d.incremental?d.__drawIndex=-1:d.__drawIndex=s,t(s),n=d),i.__dirty&ta&&!i.__inHover&&(d.__dirty=!0,d.incremental&&d.__drawIndex<0&&(d.__drawIndex=s))}t(s),this.eachBuiltinLayer(function(c, f){!c.__used&&c.getElementCount()>0&&(c.__dirty=!0,c.__startIndex=c.__endIndex=c.__drawIndex=0),c.__dirty&&c.__drawIndex<0&&(c.__drawIndex=c.__startIndex)})},r.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},r.prototype._clearLayer=function(e){e.clear()},r.prototype.setBackgroundColor=function(e){this._backgroundColor=e,O(this._layers,function(t){t.setUnpainted()})},r.prototype.configLayer=function(e, t){if(t){var a=this._layerConfig;a[e]?st(a[e],t,!0):a[e]=t;for(var i=0; i<this._zlevelList.length; i++){var n=this._zlevelList[i];if(n===e||n===e+wt){var o=this._layers[n];st(o,a[e],!0)}}}},r.prototype.delLayer=function(e){var t=this._layers,a=this._zlevelList,i=t[e];i&&(i.dom.parentNode.removeChild(i.dom),delete t[e],a.splice(vt(a,e),1))},r.prototype.resize=function(e, t){if(this._domRoot.style){var a=this._domRoot;a.style.display="none";var i=this._opts,n=this.root;if(e!=null&&(i.width=e),t!=null&&(i.height=t),e=yt(n,0,i),t=yt(n,1,i),a.style.display="",this._width!==e||t!==this._height){a.style.width=e+"px",a.style.height=t+"px";for(var o in this._layers)this._layers.hasOwnProperty(o)&&this._layers[o].resize(e,t);this.refresh(!0)}this._width=e,this._height=t}else{if(e==null||t==null)return;this._width=e,this._height=t,this.getLayer(ke).resize(e,t)}return this},r.prototype.clearLayer=function(e){var t=this._layers[e];t&&t.clear()},r.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},r.prototype.getRenderedCanvas=function(e){if(e=e||{},this._singleCanvas&&!this._compositeManually)return this._layers[ke].dom;var t=new Wt("image",this,e.pixelRatio||this.dpr);t.initContext(),t.clear(!1,e.backgroundColor||this._backgroundColor);var a=t.ctx;if(e.pixelRatio<=this.dpr){this.refresh();var i=t.dom.width,n=t.dom.height;this.eachLayer(function(c){c.__builtin__?a.drawImage(c.dom,0,0,i,n):c.renderToCanvas&&(a.save(),c.renderToCanvas(a),a.restore())})}else for(var o={inHover:!1,viewWidth:this._width,viewHeight:this._height},l=this.storage.getDisplayList(!0),s=0,u=l.length; s<u; s++){var d=l[s];_t(a,d,o,s===u-1)}return t.dom},r.prototype.getWidth=function(){return this._width},r.prototype.getHeight=function(){return this._height},r}();function Cs(r){r.registerPainter("canvas",Ss)}function St(r, e, t){var a=r.get("borderRadius");if(a==null)return t?{cornerRadius:0}:null;Y(a)||(a=[a,a,a,a]);var i=Math.abs(e.r||0-e.r0||0);return{cornerRadius:Xe(a,function(n){return rn(n,i)})}}var qa=Math.PI*2,Ct=Math.PI/180;function Ur(r, e){return ut(r.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function Wr(r, e){var t=Ur(r,e),a=r.get("center"),i=r.get("radius");Y(i)||(i=[0,i]);var n=he(t.width,e.getWidth()),o=he(t.height,e.getHeight()),l=Math.min(n,o),s=he(i[0],l/2),u=he(i[1],l/2),d,c,f=r.coordinateSystem;if(f){var h=f.dataToPoint(a);d=h[0]||0,c=h[1]||0}else Y(a)||(a=[a,a]),d=he(a[0],n)+t.x,c=he(a[1],o)+t.y;return{cx:d,cy:c,r0:s,r:u}}function Ts(r, e, t){e.eachSeriesByType(r,function(a){var i=a.getData(),n=i.mapDimension("value"),o=Ur(a,t),l=Wr(a,t),s=l.cx,u=l.cy,d=l.r,c=l.r0,f=-a.get("startAngle")*Ct,h=a.get("endAngle"),v=a.get("padAngle")*Ct;h=h==="auto"?f-qa:-h*Ct;var p=a.get("minAngle")*Ct,g=p+v,m=0;i.each(n,function(re){!isNaN(re)&&m++});var x=i.getSum(n),_=Math.PI/(x||m)*2,w=a.get("clockwise"),S=a.get("roseType"),D=a.get("stillShowZeroSum"),T=i.getDataExtent(n);T[0]=0;var C=w?1:-1,A=[f,h],I=C*v/2;nn(A,!w),f=A[0],h=A[1];var L=qr(a);L.startAngle=f,L.endAngle=h,L.clockwise=w;var k=Math.abs(h-f),R=k,z=0,E=f;if(i.setLayout({viewRect:o,r:d}),i.each(n,function(re, J){var G;if(isNaN(re)){i.setItemLayout(J,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:w,cx:s,cy:u,r0:c,r:S?NaN:d});return}S!=="area"?G=x===0&&D?_:re*_:G=k/m,G<g?(G=g,R-=g):z+=re;var F=E+C*G,j=0,W=0;v>G?(j=E+C*G/2,W=j):(j=E+I,W=F-I),i.setItemLayout(J,{angle:G,startAngle:j,endAngle:W,clockwise:w,cx:s,cy:u,r0:c,r:S?on(re,T,[c,d]):d}),E=F}),R<qa&&m)if(R<=.001){var Z=k/m;i.each(n,function(re, J){if(!isNaN(re)){var G=i.getItemLayout(J);G.angle=Z;var F=0,j=0;Z<v?(F=f+C*(J+1/2)*Z,j=F):(F=f+C*J*Z+I,j=f+C*(J+1)*Z-I),G.startAngle=F,G.endAngle=j}})}else _=R/z,E=f,i.each(n,function(re, J){if(!isNaN(re)){var G=i.getItemLayout(J),F=G.angle===g?g:re*_,j=0,W=0;F<v?(j=E+C*F/2,W=j):(j=E+I,W=E+C*F-I),G.startAngle=j,G.endAngle=W,E+=C*F}})})}var qr=Ze();function Ds(r){return{seriesType:r,reset:function(e, t){var a=t.findComponents({mainType:"legend"});if(!(!a||!a.length)){var i=e.getData();i.filterSelf(function(n){for(var o=i.getName(n),l=0; l<a.length; l++)if(!a[l].isSelected(o))return!1;return!0})}}}}var Is=Math.PI/180;function Ya(r, e, t, a, i, n, o, l, s, u){if(r.length<2)return;function d(p){for(var g=p.rB,m=g*g,x=0; x<p.list.length; x++){var _=p.list[x],w=Math.abs(_.label.y-t),S=a+_.len,D=S*S,T=Math.sqrt((1-Math.abs(w*w/m))*D),C=e+(T+_.len2)*i,A=C-_.label.x,I=_.targetTextWidth-A*i;Yr(_,I,!0),_.label.x=C}}function c(p){for(var g={list:[],maxY:0},m={list:[],maxY:0},x=0; x<p.length; x++)if(p[x].labelAlignTo==="none"){var _=p[x],w=_.label.y>t?m:g,S=Math.abs(_.label.y-t);if(S>=w.maxY){var D=_.label.x-e-_.len2*i,T=a+_.len,C=Math.abs(D)<T?Math.sqrt(S*S/(1-D*D/T/T)):T;w.rB=C,w.maxY=S}w.list.push(_)}d(g),d(m)}for(var f=r.length,h=0; h<f; h++)if(r[h].position==="outer"&&r[h].labelAlignTo==="labelLine"){var v=r[h].label.x-u;r[h].linePoints[1][0]+=v,r[h].label.x=u}_s(r,s,s+o)&&c(r)}function As(r, e, t, a, i, n, o, l){for(var s=[],u=[],d=Number.MAX_VALUE,c=-Number.MAX_VALUE,f=0; f<r.length; f++){var h=r[f].label;qt(r[f])||(h.x<e?(d=Math.min(d,h.x),s.push(r[f])):(c=Math.max(c,h.x),u.push(r[f])))}for(var f=0; f<r.length; f++){var v=r[f];if(!qt(v)&&v.linePoints){if(v.labelStyleWidth!=null)continue;var h=v.label,p=v.linePoints,g=void 0;v.labelAlignTo==="edge"?h.x<e?g=p[2][0]-v.labelDistance-o-v.edgeDistance:g=o+i-v.edgeDistance-p[2][0]-v.labelDistance:v.labelAlignTo==="labelLine"?h.x<e?g=d-o-v.bleedMargin:g=o+i-c-v.bleedMargin:h.x<e?g=h.x-o-v.bleedMargin:g=o+i-h.x-v.bleedMargin,v.targetTextWidth=g,Yr(v,g)}}Ya(u,e,t,a,1,i,n,o,l,c),Ya(s,e,t,a,-1,i,n,o,l,d);for(var f=0; f<r.length; f++){var v=r[f];if(!qt(v)&&v.linePoints){var h=v.label,p=v.linePoints,m=v.labelAlignTo==="edge",x=h.style.padding,_=x?x[1]+x[3]:0,w=h.style.backgroundColor?0:_,S=v.rect.width+w,D=p[1][0]-p[2][0];m?h.x<e?p[2][0]=o+v.edgeDistance+S+v.labelDistance:p[2][0]=o+i-v.edgeDistance-S-v.labelDistance:(h.x<e?p[2][0]=h.x+v.labelDistance:p[2][0]=h.x-v.labelDistance,p[1][0]=p[2][0]+D),p[1][1]=p[2][1]=h.y}}}function Yr(r, e, t){if(t===void 0&&(t=!1),r.labelStyleWidth==null){var a=r.label,i=a.style,n=r.rect,o=i.backgroundColor,l=i.padding,s=l?l[1]+l[3]:0,u=i.overflow,d=n.width+(o?0:s);if(e<d||t){var c=n.height;if(u&&u.match("break")){a.setStyle("backgroundColor",null),a.setStyle("width",e-s);var f=a.getBoundingRect();a.setStyle("width",Math.ceil(f.width)),a.setStyle("backgroundColor",o)}else{var h=e-s,v=e<d?h:t?h>r.unconstrainedWidth?null:h:null;a.setStyle("width",v)}var p=a.getBoundingRect();n.width=p.width;var g=(a.style.margin||0)+2.1;n.height=p.height+g,n.y-=(n.height-c)/2}}}function qt(r){return r.position==="center"}function Ls(r){var e=r.getData(),t=[],a,i,n=!1,o=(r.get("minShowLabelAngle")||0)*Is,l=e.getLayout("viewRect"),s=e.getLayout("r"),u=l.width,d=l.x,c=l.y,f=l.height;function h(D){D.ignore=!0}function v(D){if(!D.ignore)return!0;for(var T in D.states)if(D.states[T].ignore===!1)return!0;return!1}e.each(function(D){var T=e.getItemGraphicEl(D),C=T.shape,A=T.getTextContent(),I=T.getTextGuideLine(),L=e.getItemModel(D),k=L.getModel("label"),R=k.get("position")||L.get(["emphasis","label","position"]),z=k.get("distanceToLabelLine"),E=k.get("alignTo"),Z=he(k.get("edgeDistance"),u),re=k.get("bleedMargin"),J=L.getModel("labelLine"),G=J.get("length");G=he(G,u);var F=J.get("length2");if(F=he(F,u),Math.abs(C.endAngle-C.startAngle)<o){O(A.states,h),A.ignore=!0,I&&(O(I.states,h),I.ignore=!0);return}if(v(A)){var j=(C.startAngle+C.endAngle)/2,W=Math.cos(j),Re=Math.sin(j),je,gt,ya,mt;a=C.cx,i=C.cy;var Ge=R==="inside"||R==="inner";if(R==="center")je=C.cx,gt=C.cy,mt="center";else{var Mt=(Ge?(C.r+C.r0)/2*W:C.r*W)+a,Et=(Ge?(C.r+C.r0)/2*Re:C.r*Re)+i;if(je=Mt+W*3,gt=Et+Re*3,!Ge){var xa=Mt+W*(G+s-C.r),ba=Et+Re*(G+s-C.r),wa=xa+(W<0?-1:1)*F,Sa=ba;E==="edge"?je=W<0?d+Z:d+u-Z:je=wa+(W<0?-z:z),gt=Sa,ya=[[Mt,Et],[xa,ba],[wa,Sa]]}mt=Ge?"center":E==="edge"?W>0?"right":"left":W>0?"left":"right"}var Ke=Math.PI,He=0,Je=k.get("rotate");if(ht(Je))He=Je*(Ke/180);else if(R==="center")He=0;else if(Je==="radial"||Je===!0){var di=W<0?-j+Ke:-j;He=di}else if(Je==="tangential"&&R!=="outside"&&R!=="outer"){var Fe=Math.atan2(W,Re);Fe<0&&(Fe=Ke*2+Fe);var ci=Re>0;ci&&(Fe=Ke+Fe),He=Fe-Ke}if(n=!!He,A.x=je,A.y=gt,A.rotation=He,A.setStyle({verticalAlign:"middle"}),Ge){A.setStyle({align:mt});var Bt=A.states.select;Bt&&(Bt.x+=A.x,Bt.y+=A.y)}else{var Qe=A.getBoundingRect().clone();Qe.applyTransform(A.getComputedTransform());var Ca=(A.style.margin||0)+2.1;Qe.y-=Ca/2,Qe.height+=Ca,t.push({label:A,labelLine:I,position:R,len:G,len2:F,minTurnAngle:J.get("minTurnAngle"),maxSurfaceAngle:J.get("maxSurfaceAngle"),surfaceNormal:new ee(W,Re),linePoints:ya,textAlign:mt,labelDistance:z,labelAlignTo:E,edgeDistance:Z,bleedMargin:re,rect:Qe,unconstrainedWidth:Qe.width,labelStyleWidth:A.style.width})}T.setTextConfig({inside:Ge})}}),!n&&r.get("avoidLabelOverlap")&&As(t,a,i,s,u,f,d,c);for(var p=0; p<t.length; p++){var g=t[p],m=g.label,x=g.labelLine,_=isNaN(m.x)||isNaN(m.y);if(m){m.setStyle({align:g.textAlign}),_&&(O(m.states,h),m.ignore=!0);var w=m.states.select;w&&(w.x+=m.x,w.y+=m.y)}if(x){var S=g.linePoints;_||!S?(O(x.states,h),x.ignore=!0):(cs(S,g.minTurnAngle),fs(S,g.surfaceNormal,g.maxSurfaceAngle),x.setShape({points:S}),m.__hostTarget.textGuideLineConfig={anchor:new ee(S[0][0],S[0][1])})}}}var Ps=function(r){ae(e,r);function e(t, a, i){var n=r.call(this)||this;n.z2=2;var o=new _e;return n.setTextContent(o),n.updateData(t,a,i,!0),n}return e.prototype.updateData=function(t, a, i, n){var o=this,l=t.hostModel,s=t.getItemModel(a),u=s.getModel("emphasis"),d=t.getItemLayout(a),c=H(St(s.getModel("itemStyle"),d,!0),d);if(isNaN(c.startAngle)){o.setShape(c);return}if(n){o.setShape(c);var f=l.getShallow("animationType");l.ecModel.ssr?(Vt(o,{scaleX:0,scaleY:0},l,{dataIndex:a,isFrom:!0}),o.originX=c.cx,o.originY=c.cy):f==="scale"?(o.shape.r=d.r0,Vt(o,{shape:{r:d.r}},l,a)):i!=null?(o.setShape({startAngle:i,endAngle:i}),Vt(o,{shape:{startAngle:d.startAngle,endAngle:d.endAngle}},l,a)):(o.shape.endAngle=d.startAngle,Lt(o,{shape:{endAngle:d.endAngle}},l,a))}else sn(o),Lt(o,{shape:c},l,a);o.useStyle(t.getItemVisual(a,"style")),ln(o,s);var h=(d.startAngle+d.endAngle)/2,v=l.get("selectedOffset"),p=Math.cos(h)*v,g=Math.sin(h)*v,m=s.getShallow("cursor");m&&o.attr("cursor",m),this._updateLabel(l,t,a),o.ensureState("emphasis").shape=H({r:d.r+(u.get("scale")&&u.get("scaleSize")||0)},St(u.getModel("itemStyle"),d)),H(o.ensureState("select"),{x:p,y:g,shape:St(s.getModel(["select","itemStyle"]),d)}),H(o.ensureState("blur"),{shape:St(s.getModel(["blur","itemStyle"]),d)});var x=o.getTextGuideLine(),_=o.getTextContent();x&&H(x.ensureState("select"),{x:p,y:g}),H(_.ensureState("select"),{x:p,y:g}),un(this,u.get("focus"),u.get("blurScope"),u.get("disabled"))},e.prototype._updateLabel=function(t, a, i){var n=this,o=a.getItemModel(i),l=o.getModel("labelLine"),s=a.getItemVisual(i,"style"),u=s&&s.fill,d=s&&s.opacity;Sr(n,dn(o),{labelFetcher:a.hostModel,labelDataIndex:i,inheritColor:u,defaultOpacity:d,defaultText:t.getFormattedLabel(i,"normal")||a.getName(i)});var c=n.getTextContent();n.setTextConfig({position:null,rotation:null}),c.attr({z2:10});var f=t.get(["label","position"]);if(f!=="outside"&&f!=="outer")n.removeTextGuideLine();else{var h=this.getTextGuideLine();h||(h=new xr,this.setTextGuideLine(h)),vs(this,ps(o),{stroke:u,opacity:cn(l.get(["lineStyle","opacity"]),d,1)})}},e}(Cr),Rs=function(r){ae(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.ignoreLabelLineUpdate=!0,t}return e.prototype.render=function(t, a, i, n){var o=t.getData(),l=this._data,s=this.group,u;if(!l&&o.count()>0){for(var d=o.getItemLayout(0),c=1; isNaN(d&&d.startAngle)&&c<o.count(); ++c)d=o.getItemLayout(c);d&&(u=d.startAngle)}if(this._emptyCircleSector&&s.remove(this._emptyCircleSector),o.count()===0&&t.get("showEmptyCircle")){var f=qr(t),h=new Cr({shape:H(Wr(t,i),f)});h.useStyle(t.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=h,s.add(h)}o.diff(l).add(function(v){var p=new Ps(o,v,u);o.setItemGraphicEl(v,p),s.add(p)}).update(function(v, p){var g=l.getItemGraphicEl(p);g.updateData(o,v,u),g.off("click"),s.add(g),o.setItemGraphicEl(v,g)}).remove(function(v){var p=l.getItemGraphicEl(v);fn(p,t,v)}).execute(),Ls(t),t.get("animationTypeUpdate")!=="expansion"&&(this._data=o)},e.prototype.dispose=function(){},e.prototype.containPoint=function(t, a){var i=a.getData(),n=i.getItemLayout(0);if(n){var o=t[0]-n.cx,l=t[1]-n.cy,s=Math.sqrt(o*o+l*l);return s<=n.r&&s>=n.r0}},e.type="pie",e}(Qt);function ks(r, e, t){e=Y(e)&&{coordDimensions:e}||H({encodeDefine:r.getEncode()},e);var a=r.getSource(),i=is(a,e).dimensions,n=new rs(i,r);return n.initData(a,t),n}var Os=function(){function r(e, t){this._getDataWithEncodedVisual=e,this._getRawData=t}return r.prototype.getAllNames=function(){var e=this._getRawData();return e.mapArray(e.getName)},r.prototype.containName=function(e){var t=this._getRawData();return t.indexOfName(e)>=0},r.prototype.indexOfName=function(e){var t=this._getDataWithEncodedVisual();return t.indexOfName(e)},r.prototype.getItemVisual=function(e, t){var a=this._getDataWithEncodedVisual();return a.getItemVisual(e,t)},r}(),Ms=Ze(),Es=function(r){ae(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.init=function(t){r.prototype.init.apply(this,arguments),this.legendVisualProvider=new Os(oe(this.getData,this),oe(this.getRawData,this)),this._defaultLabelLine(t)},e.prototype.mergeOption=function(){r.prototype.mergeOption.apply(this,arguments)},e.prototype.getInitialData=function(){return ks(this,{coordDimensions:["value"],encodeDefaulter:te(hn,this)})},e.prototype.getDataParams=function(t){var a=this.getData(),i=Ms(a),n=i.seats;if(!n){var o=[];a.each(a.mapDimension("value"),function(s){o.push(s)}),n=i.seats=vn(o,a.hostModel.get("percentPrecision"))}var l=r.prototype.getDataParams.call(this,t);return l.percent=n[t]||0,l.$vars.push("percent"),l},e.prototype._defaultLabelLine=function(t){pn(t,"labelLine",["show"]);var a=t.labelLine,i=t.emphasis.labelLine;a.show=a.show&&t.label.show,i.show=i.show&&t.emphasis.label.show},e.type="series.pie",e.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,endAngle:"auto",padAngle:0,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},e}(Jt);function Bs(r){return{seriesType:r,reset:function(e, t){var a=e.getData();a.filterSelf(function(i){var n=a.mapDimension("value"),o=a.get(n,i);return!(ht(o)&&!isNaN(o)&&o<0)})}}}function Ns(r){r.registerChartView(Rs),r.registerSeriesModel(Es),gn("pie",r.registerAction),r.registerLayout(te(Ts,"pie")),r.registerProcessor(Ds("pie")),r.registerProcessor(Bs("pie"))}function Xa(r, e, t){t=t||{};var a=r.coordinateSystem,i=e.axis,n={},o=i.getAxesOnZeroOf()[0],l=i.position,s=o?"onZero":l,u=i.dim,d=a.getRect(),c=[d.x,d.x+d.width,d.y,d.y+d.height],f={left:0,right:1,top:0,bottom:1,onZero:2},h=e.get("offset")||0,v=u==="x"?[c[2]-h,c[3]+h]:[c[0]-h,c[1]+h];if(o){var p=o.toGlobalCoord(o.dataToCoord(0));v[f.onZero]=Math.max(Math.min(p,v[1]),v[0])}n.position=[u==="y"?v[f[s]]:c[0],u==="x"?v[f[s]]:c[3]],n.rotation=Math.PI/2*(u==="x"?0:1);var g={top:-1,bottom:1,left:-1,right:1};n.labelDirection=n.tickDirection=n.nameDirection=g[l],n.labelOffset=o?v[f[l]]-v[f.onZero]:0,e.get(["axisTick","inside"])&&(n.tickDirection=-n.tickDirection),dt(t.labelInside,e.get(["axisLabel","inside"]))&&(n.labelDirection=-n.labelDirection);var m=e.get(["axisLabel","rotate"]);return n.labelRotate=s==="top"?-m:m,n.z2=1,n}var Le=Math.PI,Be=function(){function r(e, t){this.group=new ct,this.opt=t,this.axisModel=e,we(t,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var a=new ct({x:t.position[0],y:t.position[1],rotation:t.rotation});a.updateTransform(),this._transformGroup=a}return r.prototype.hasBuilder=function(e){return!!Za[e]},r.prototype.add=function(e){Za[e](this.opt,this.axisModel,this.group,this._transformGroup)},r.prototype.getGroup=function(){return this.group},r.innerTextLayout=function(e, t, a){var i=Pr(t-e),n,o;return Rt(i)?(o=a>0?"top":"bottom",n="center"):Rt(i-Le)?(o=a>0?"bottom":"top",n="center"):(o="middle",i>0&&i<Le?n=a>0?"right":"left":n=a>0?"left":"right"),{rotation:i,textAlign:n,textVerticalAlign:o}},r.makeAxisEventDataBase=function(e){var t={componentType:e.mainType,componentIndex:e.componentIndex};return t[e.mainType+"Index"]=e.componentIndex,t},r.isLabelSilent=function(e){var t=e.get("tooltip");return e.get("silent")||!(e.get("triggerEvent")||t&&t.show)},r}(),Za={axisLine:function(r, e, t, a){var i=e.get(["axisLine","show"]);if(i==="auto"&&r.handleAutoShown&&(i=r.handleAutoShown("axisLine")),!!i){var n=e.axis.getExtent(),o=a.transform,l=[n[0],0],s=[n[1],0],u=l[0]>s[0];o&&(Pt(l,l,o),Pt(s,s,o));var d=H({lineCap:"round"},e.getModel(["axisLine","lineStyle"]).getLineStyle()),c=new Tr({shape:{x1:l[0],y1:l[1],x2:s[0],y2:s[1]},style:d,strokeContainThreshold:r.strokeContainThreshold||5,silent:!0,z2:1});Dr(c.shape,c.style.lineWidth),c.anid="line",t.add(c);var f=e.get(["axisLine","symbol"]);if(f!=null){var h=e.get(["axisLine","symbolSize"]);X(f)&&(f=[f,f]),(X(h)||ht(h))&&(h=[h,h]);var v=mn(e.get(["axisLine","symbolOffset"])||0,h),p=h[0],g=h[1];O([{rotate:r.rotation+Math.PI/2,offset:v[0],r:0},{rotate:r.rotation-Math.PI/2,offset:v[1],r:Math.sqrt((l[0]-s[0])*(l[0]-s[0])+(l[1]-s[1])*(l[1]-s[1]))}],function(m, x){if(f[x]!=="none"&&f[x]!=null){var _=Ir(f[x],-p/2,-g/2,p,g,d.stroke,!0),w=m.r+m.offset,S=u?s:l;_.attr({rotation:m.rotate,x:S[0]+w*Math.cos(r.rotation),y:S[1]-w*Math.sin(r.rotation),silent:!0,z2:11}),t.add(_)}})}}},axisTickLabel:function(r, e, t, a){var i=Gs(t,a,e,r),n=Fs(t,a,e,r);if(Vs(e,n,i),Hs(t,a,e,r.tickDirection),e.get(["axisLabel","hideOverlap"])){var o=gs(Xe(n,function(l){return{label:l,priority:l.z2,defaultAttr:{ignore:l.ignore}}}));ys(o)}},axisName:function(r, e, t, a){var i=dt(r.axisName,e.get("name"));if(i){var n=e.get("nameLocation"),o=r.nameDirection,l=e.getModel("nameTextStyle"),s=e.get("nameGap")||0,u=e.axis.getExtent(),d=u[0]>u[1]?-1:1,c=[n==="start"?u[0]-d*s:n==="end"?u[1]+d*s:(u[0]+u[1])/2,Ka(n)?r.labelOffset+o*s:0],f,h=e.get("nameRotate");h!=null&&(h=h*Le/180);var v;Ka(n)?f=Be.innerTextLayout(r.rotation,h??r.rotation,o):(f=zs(r.rotation,n,h||0,u),v=r.axisNameAvailableWidth,v!=null&&(v=Math.abs(v/Math.sin(f.rotation)),!isFinite(v)&&(v=null)));var p=l.getFont(),g=e.get("nameTruncate",!0)||{},m=g.ellipsis,x=dt(r.nameTruncateMaxWidth,g.maxWidth,v),_=new _e({x:c[0],y:c[1],rotation:f.rotation,silent:Be.isLabelSilent(e),style:qe(l,{text:i,font:p,overflow:"truncate",width:x,ellipsis:m,fill:l.getTextColor()||e.get(["axisLine","lineStyle","color"]),align:l.get("align")||f.textAlign,verticalAlign:l.get("verticalAlign")||f.textVerticalAlign}),z2:1});if(Ar({el:_,componentModel:e,itemName:i}),_.__fullText=i,_.anid="name",e.get("triggerEvent")){var w=Be.makeAxisEventDataBase(e);w.targetType="axisName",w.name=i,de(_).eventData=w}a.add(_),_.updateTransform(),t.add(_),_.decomposeTransform()}}};function zs(r, e, t, a){var i=Pr(t-r),n,o,l=a[0]>a[1],s=e==="start"&&!l||e!=="start"&&l;return Rt(i-Le/2)?(o=s?"bottom":"top",n="center"):Rt(i-Le*1.5)?(o=s?"top":"bottom",n="center"):(o="middle",i<Le*1.5&&i>Le/2?n=s?"left":"right":n=s?"right":"left"),{rotation:i,textAlign:n,textVerticalAlign:o}}function Vs(r, e, t){if(!us(r.axis)){var a=r.get(["axisLabel","showMinLabel"]),i=r.get(["axisLabel","showMaxLabel"]);e=e||[],t=t||[];var n=e[0],o=e[1],l=e[e.length-1],s=e[e.length-2],u=t[0],d=t[1],c=t[t.length-1],f=t[t.length-2];a===!1?(ce(n),ce(u)):ja(n,o)&&(a?(ce(o),ce(d)):(ce(n),ce(u))),i===!1?(ce(l),ce(c)):ja(s,l)&&(i?(ce(s),ce(f)):(ce(l),ce(c)))}}function ce(r){r&&(r.ignore=!0)}function ja(r, e){var t=r&&r.getBoundingRect().clone(),a=e&&e.getBoundingRect().clone();if(!(!t||!a)){var i=_n([]);return Lr(i,i,-r.rotation),t.applyTransform(ka([],i,r.getLocalTransform())),a.applyTransform(ka([],i,e.getLocalTransform())),t.intersect(a)}}function Ka(r){return r==="middle"||r==="center"}function Xr(r, e, t, a, i){for(var n=[],o=[],l=[],s=0; s<r.length; s++){var u=r[s].coord;o[0]=u,o[1]=0,l[0]=u,l[1]=t,e&&(Pt(o,o,e),Pt(l,l,e));var d=new Tr({shape:{x1:o[0],y1:o[1],x2:l[0],y2:l[1]},style:a,z2:2,autoBatch:!0,silent:!0});Dr(d.shape,d.style.lineWidth),d.anid=i+"_"+r[s].tickValue,n.push(d)}return n}function Gs(r, e, t, a){var i=t.axis,n=t.getModel("axisTick"),o=n.get("show");if(o==="auto"&&a.handleAutoShown&&(o=a.handleAutoShown("axisTick")),!(!o||i.scale.isBlank())){for(var l=n.getModel("lineStyle"),s=a.tickDirection*n.get("length"),u=i.getTicksCoords(),d=Xr(u,e.transform,s,we(l.getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])}),"ticks"),c=0; c<d.length; c++)r.add(d[c]);return d}}function Hs(r, e, t, a){var i=t.axis,n=t.getModel("minorTick");if(!(!n.get("show")||i.scale.isBlank())){var o=i.getMinorTicksCoords();if(o.length)for(var l=n.getModel("lineStyle"),s=a*n.get("length"),u=we(l.getLineStyle(),we(t.getModel("axisTick").getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])})),d=0; d<o.length; d++)for(var c=Xr(o[d],e.transform,s,u,"minorticks_"+d),f=0; f<c.length; f++)r.add(c[f])}}function Fs(r, e, t, a){var i=t.axis,n=dt(a.axisLabelShow,t.get(["axisLabel","show"]));if(!(!n||i.scale.isBlank())){var o=t.getModel("axisLabel"),l=o.get("margin"),s=i.getViewLabels(),u=(dt(a.labelRotate,o.get("rotate"))||0)*Le/180,d=Be.innerTextLayout(a.rotation,u,a.labelDirection),c=t.getCategories&&t.getCategories(!0),f=[],h=Be.isLabelSilent(t),v=t.get("triggerEvent");return O(s,function(p, g){var m=i.scale.type==="ordinal"?i.scale.getRawOrdinalNumber(p.tickValue):p.tickValue,x=p.formattedLabel,_=p.rawLabel,w=o;if(c&&c[m]){var S=c[m];ve(S)&&S.textStyle&&(w=new Te(S.textStyle,o,t.ecModel))}var D=w.getTextColor()||t.get(["axisLine","lineStyle","color"]),T=i.dataToCoord(m),C=w.getShallow("align",!0)||d.textAlign,A=xe(w.getShallow("alignMinLabel",!0),C),I=xe(w.getShallow("alignMaxLabel",!0),C),L=w.getShallow("verticalAlign",!0)||w.getShallow("baseline",!0)||d.textVerticalAlign,k=xe(w.getShallow("verticalAlignMinLabel",!0),L),R=xe(w.getShallow("verticalAlignMaxLabel",!0),L),z=new _e({x:T,y:a.labelOffset+a.labelDirection*l,rotation:d.rotation,silent:h,z2:10+(p.level||0),style:qe(w,{text:x,align:g===0?A:g===s.length-1?I:C,verticalAlign:g===0?k:g===s.length-1?R:L,fill:fe(D)?D(i.type==="category"?_:i.type==="value"?m+"":m,g):D})});if(z.anid="label_"+m,v){var E=Be.makeAxisEventDataBase(t);E.targetType="axisLabel",E.value=_,E.tickIndex=g,i.type==="category"&&(E.dataIndex=m),de(z).eventData=E}e.add(z),z.updateTransform(),f.push(z),r.add(z),z.decomposeTransform()}),f}}function $s(r, e){var t={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return Us(t,r,e),t.seriesInvolved&&qs(t,r),t}function Us(r, e, t){var a=e.getComponent("tooltip"),i=e.getComponent("axisPointer"),n=i.get("link",!0)||[],o=[];O(t.getCoordinateSystems(),function(l){if(!l.axisPointerEnabled)return;var s=ft(l.model),u=r.coordSysAxesInfo[s]={};r.coordSysMap[s]=l;var d=l.model,c=d.getModel("tooltip",a);if(O(l.getAxes(),te(p,!1,null)),l.getTooltipAxes&&a&&c.get("show")){var f=c.get("trigger")==="axis",h=c.get(["axisPointer","type"])==="cross",v=l.getTooltipAxes(c.get(["axisPointer","axis"]));(f||h)&&O(v.baseAxes,te(p,h?"cross":!0,f)),h&&O(v.otherAxes,te(p,"cross",!1))}function p(g, m, x){var _=x.model.getModel("axisPointer",i),w=_.get("show");if(!(!w||w==="auto"&&!g&&!ia(_))){m==null&&(m=_.get("triggerTooltip")),_=g?Ws(x,c,i,e,g,m):_;var S=_.get("snap"),D=_.get("triggerEmphasis"),T=ft(x.model),C=m||S||x.type==="category",A=r.axesInfo[T]={key:T,axis:x,coordSys:l,axisPointerModel:_,triggerTooltip:m,triggerEmphasis:D,involveSeries:C,snap:S,useHandle:ia(_),seriesModels:[],linkGroup:null};u[T]=A,r.seriesInvolved=r.seriesInvolved||C;var I=Ys(n,x);if(I!=null){var L=o[I]||(o[I]={axesInfo:{}});L.axesInfo[T]=A,L.mapper=n[I].mapper,A.linkGroup=L}}}})}function Ws(r, e, t, a, i, n){var o=e.getModel("axisPointer"),l=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],s={};O(l,function(f){s[f]=We(o.get(f))}),s.snap=r.type!=="category"&&!!n,o.get("type")==="cross"&&(s.type="line");var u=s.label||(s.label={});if(u.show==null&&(u.show=!1),i==="cross"){var d=o.get(["label","show"]);if(u.show=d??!0,!n){var c=s.lineStyle=o.get("crossStyle");c&&we(u,c.textStyle)}}return r.model.getModel("axisPointer",new Te(s,t,a))}function qs(r, e){e.eachSeries(function(t){var a=t.coordinateSystem,i=t.get(["tooltip","trigger"],!0),n=t.get(["tooltip","show"],!0);!a||i==="none"||i===!1||i==="item"||n===!1||t.get(["axisPointer","show"],!0)===!1||O(r.coordSysAxesInfo[ft(a.model)],function(o){var l=o.axis;a.getAxis(l.dim)===l&&(o.seriesModels.push(t),o.seriesDataCount==null&&(o.seriesDataCount=0),o.seriesDataCount+=t.getData().count())})})}function Ys(r, e){for(var t=e.model,a=e.dim,i=0; i<r.length; i++){var n=r[i]||{};if(Yt(n[a+"AxisId"],t.id)||Yt(n[a+"AxisIndex"],t.componentIndex)||Yt(n[a+"AxisName"],t.name))return i}}function Yt(r, e){return r==="all"||Y(r)&&vt(r,e)>=0||r===e}function Xs(r){var e=ma(r);if(e){var t=e.axisPointerModel,a=e.axis.scale,i=t.option,n=t.get("status"),o=t.get("value");o!=null&&(o=a.parse(o));var l=ia(t);n==null&&(i.status=l?"show":"hide");var s=a.getExtent().slice();s[0]>s[1]&&s.reverse(),(o==null||o>s[1])&&(o=s[1]),o<s[0]&&(o=s[0]),i.value=o,l&&(i.status=e.axis.scale.isBlank()?"hide":"show")}}function ma(r){var e=(r.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[ft(r)]}function Zs(r){var e=ma(r);return e&&e.axisPointerModel}function ia(r){return!!r.get(["handle","show"])}function ft(r){return r.type+"||"+r.id}var Ja={},js=function(r){ae(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t, a, i, n){this.axisPointerClass&&Xs(t),r.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(t,i,!0)},e.prototype.updateAxisPointer=function(t, a, i, n){this._doUpdateAxisPointerClass(t,i,!1)},e.prototype.remove=function(t, a){var i=this._axisPointer;i&&i.remove(a)},e.prototype.dispose=function(t, a){this._disposeAxisPointer(a),r.prototype.dispose.apply(this,arguments)},e.prototype._doUpdateAxisPointerClass=function(t, a, i){var n=e.getAxisPointerClass(this.axisPointerClass);if(n){var o=Zs(t);o?(this._axisPointer||(this._axisPointer=new n)).render(t,o,a,i):this._disposeAxisPointer(a)}},e.prototype._disposeAxisPointer=function(t){this._axisPointer&&this._axisPointer.dispose(t),this._axisPointer=null},e.registerAxisPointerClass=function(t, a){Ja[t]=a},e.getAxisPointerClass=function(t){return t&&Ja[t]},e.type="axis",e}(Ne),Oe=Ze(),Qa=We,Xt=oe,Ks=function(){function r(){this._dragging=!1,this.animationThreshold=15}return r.prototype.render=function(e, t, a, i){var n=t.get("value"),o=t.get("status");if(this._axisModel=e,this._axisPointerModel=t,this._api=a,!(!i&&this._lastValue===n&&this._lastStatus===o)){this._lastValue=n,this._lastStatus=o;var l=this._group,s=this._handle;if(!o||o==="hide"){l&&l.hide(),s&&s.hide();return}l&&l.show(),s&&s.show();var u={};this.makeElOption(u,n,e,t,a);var d=u.graphicKey;d!==this._lastGraphicKey&&this.clear(a),this._lastGraphicKey=d;var c=this._moveAnimation=this.determineAnimation(e,t);if(!l)l=this._group=new ct,this.createPointerEl(l,u,e,t),this.createLabelEl(l,u,e,t),a.getZr().add(l);else{var f=te(er,t,c);this.updatePointerEl(l,u,f),this.updateLabelEl(l,u,f,t)}ar(l,t,!0),this._renderHandle(n)}},r.prototype.remove=function(e){this.clear(e)},r.prototype.dispose=function(e){this.clear(e)},r.prototype.determineAnimation=function(e, t){var a=t.get("animation"),i=e.axis,n=i.type==="category",o=t.get("snap");if(!o&&!n)return!1;if(a==="auto"||a==null){var l=this.animationThreshold;if(n&&i.getBandWidth()>l)return!0;if(o){var s=ma(e).seriesDataCount,u=i.getExtent();return Math.abs(u[0]-u[1])/s>l}return!1}return a===!0},r.prototype.makeElOption=function(e, t, a, i, n){},r.prototype.createPointerEl=function(e, t, a, i){var n=t.pointer;if(n){var o=Oe(e).pointerEl=new yn[n.type](Qa(t.pointer));e.add(o)}},r.prototype.createLabelEl=function(e, t, a, i){if(t.label){var n=Oe(e).labelEl=new _e(Qa(t.label));e.add(n),tr(n,i)}},r.prototype.updatePointerEl=function(e, t, a){var i=Oe(e).pointerEl;i&&t.pointer&&(i.setStyle(t.pointer.style),a(i,{shape:t.pointer.shape}))},r.prototype.updateLabelEl=function(e, t, a, i){var n=Oe(e).labelEl;n&&(n.setStyle(t.label.style),a(n,{x:t.label.x,y:t.label.y}),tr(n,i))},r.prototype._renderHandle=function(e){if(!(this._dragging||!this.updateHandleTransform)){var t=this._axisPointerModel,a=this._api.getZr(),i=this._handle,n=t.getModel("handle"),o=t.get("status");if(!n.get("show")||!o||o==="hide"){i&&a.remove(i),this._handle=null;return}var l;this._handle||(l=!0,i=this._handle=Rr(n.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(u){xn(u.event)},onmousedown:Xt(this._onHandleDragMove,this,0,0),drift:Xt(this._onHandleDragMove,this),ondragend:Xt(this._onHandleDragEnd,this)}),a.add(i)),ar(i,t,!1),i.setStyle(n.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var s=n.get("size");Y(s)||(s=[s,s]),i.scaleX=s[0]/2,i.scaleY=s[1]/2,kr(this,"_doDispatchAxisPointer",n.get("throttle")||0,"fixRate"),this._moveHandleToValue(e,l)}},r.prototype._moveHandleToValue=function(e, t){er(this._axisPointerModel,!t&&this._moveAnimation,this._handle,Zt(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))},r.prototype._onHandleDragMove=function(e, t){var a=this._handle;if(a){this._dragging=!0;var i=this.updateHandleTransform(Zt(a),[e,t],this._axisModel,this._axisPointerModel);this._payloadInfo=i,a.stopAnimation(),a.attr(Zt(i)),Oe(a).lastProp=null,this._doDispatchAxisPointer()}},r.prototype._doDispatchAxisPointer=function(){var e=this._handle;if(e){var t=this._payloadInfo,a=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:a.axis.dim,axisIndex:a.componentIndex}]})}},r.prototype._onHandleDragEnd=function(){this._dragging=!1;var e=this._handle;if(e){var t=this._axisPointerModel.get("value");this._moveHandleToValue(t),this._api.dispatchAction({type:"hideTip"})}},r.prototype.clear=function(e){this._lastValue=null,this._lastStatus=null;var t=e.getZr(),a=this._group,i=this._handle;t&&a&&(this._lastGraphicKey=null,a&&t.remove(a),i&&t.remove(i),this._group=null,this._handle=null,this._payloadInfo=null),aa(this,"_doDispatchAxisPointer")},r.prototype.doClear=function(){},r.prototype.buildLabel=function(e, t, a){return a=a||0,{x:e[a],y:e[1-a],width:t[a],height:t[1-a]}},r}();function er(r, e, t, a){Zr(Oe(t).lastProp,a)||(Oe(t).lastProp=a,e?Lt(t,a,r):(t.stopAnimation(),t.attr(a)))}function Zr(r, e){if(ve(r)&&ve(e)){var t=!0;return O(e,function(a, i){t=t&&Zr(r[i],a)}),!!t}else return r===e}function tr(r, e){r[e.get(["label","show"])?"show":"hide"]()}function Zt(r){return{x:r.x||0,y:r.y||0,rotation:r.rotation||0}}function ar(r, e, t){var a=e.get("z"),i=e.get("zlevel");r&&r.traverse(function(n){n.type!=="group"&&(a!=null&&(n.z=a),i!=null&&(n.zlevel=i),n.silent=t)})}function Js(r){var e=r.get("type"),t=r.getModel(e+"Style"),a;return e==="line"?(a=t.getLineStyle(),a.fill=null):e==="shadow"&&(a=t.getAreaStyle(),a.stroke=null),a}function Qs(r, e, t, a, i){var n=t.get("value"),o=jr(n,e.axis,e.ecModel,t.get("seriesDataIndices"),{precision:t.get(["label","precision"]),formatter:t.get(["label","formatter"])}),l=t.getModel("label"),s=va(l.get("padding")||0),u=l.getFont(),d=Sn(o,u),c=i.position,f=d.width+s[1]+s[3],h=d.height+s[0]+s[2],v=i.align;v==="right"&&(c[0]-=f),v==="center"&&(c[0]-=f/2);var p=i.verticalAlign;p==="bottom"&&(c[1]-=h),p==="middle"&&(c[1]-=h/2),el(c,f,h,a);var g=l.get("backgroundColor");(!g||g==="auto")&&(g=e.get(["axisLine","lineStyle","color"])),r.label={x:c[0],y:c[1],style:qe(l,{text:o,font:u,fill:l.getTextColor(),padding:s,backgroundColor:g}),z2:10}}function el(r, e, t, a){var i=a.getWidth(),n=a.getHeight();r[0]=Math.min(r[0]+e,i)-e,r[1]=Math.min(r[1]+t,n)-t,r[0]=Math.max(r[0],0),r[1]=Math.max(r[1],0)}function jr(r, e, t, a, i){r=e.scale.parse(r);var n=e.scale.getLabel({value:r},{precision:i.precision}),o=i.formatter;if(o){var l={value:Fr(e,{value:r}),axisDimension:e.dim,axisIndex:e.index,seriesData:[]};O(a,function(s){var u=t.getSeriesByIndex(s.seriesIndex),d=s.dataIndexInside,c=u&&u.getDataParams(d);c&&l.seriesData.push(c)}),X(o)?n=o.replace("{value}",n):fe(o)&&(n=o(l))}return n}function Kr(r, e, t){var a=Cn();return Lr(a,a,t.rotation),bn(a,a,t.position),wn([r.dataToCoord(e),(t.labelOffset||0)+(t.labelDirection||1)*(t.labelMargin||0)],a)}function tl(r, e, t, a, i, n){var o=Be.innerTextLayout(t.rotation,0,t.labelDirection);t.labelMargin=i.get(["label","margin"]),Qs(e,a,i,n,{position:Kr(a.axis,r,t),align:o.textAlign,verticalAlign:o.textVerticalAlign})}function al(r, e, t){return t=t||0,{x1:r[t],y1:r[1-t],x2:e[t],y2:e[1-t]}}function rl(r, e, t){return t=t||0,{x:r[t],y:r[1-t],width:e[t],height:e[1-t]}}var il=function(r){ae(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.makeElOption=function(t, a, i, n, o){var l=i.axis,s=l.grid,u=n.get("type"),d=rr(s,l).getOtherAxis(l).getGlobalExtent(),c=l.toGlobalCoord(l.dataToCoord(a,!0));if(u&&u!=="none"){var f=Js(n),h=nl[u](l,c,d);h.style=f,t.graphicKey=h.type,t.pointer=h}var v=Xa(s.model,i);tl(a,t,v,i,n,o)},e.prototype.getHandleTransform=function(t, a, i){var n=Xa(a.axis.grid.model,a,{labelInside:!1});n.labelMargin=i.get(["handle","margin"]);var o=Kr(a.axis,t,n);return{x:o[0],y:o[1],rotation:n.rotation+(n.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(t, a, i, n){var o=i.axis,l=o.grid,s=o.getGlobalExtent(!0),u=rr(l,o).getOtherAxis(o).getGlobalExtent(),d=o.dim==="x"?0:1,c=[t.x,t.y];c[d]+=a[d],c[d]=Math.min(s[1],c[d]),c[d]=Math.max(s[0],c[d]);var f=(u[1]+u[0])/2,h=[f,f];h[d]=c[d];var v=[{verticalAlign:"middle"},{align:"center"}];return{x:c[0],y:c[1],rotation:t.rotation,cursorPoint:h,tooltipOption:v[d]}},e}(Ks);function rr(r, e){var t={};return t[e.dim+"AxisIndex"]=e.index,r.getCartesian(t)}var nl={line:function(r, e, t){var a=al([e,t[0]],[e,t[1]],ir(r));return{type:"Line",subPixelOptimize:!0,shape:a}},shadow:function(r, e, t){var a=Math.max(1,r.getBandWidth()),i=t[1]-t[0];return{type:"Rect",shape:rl([e-a/2,t[0]],[a,i],ir(r))}}};function ir(r){return r.dim==="x"?0:1}var ol=function(r){ae(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.type="axisPointer",e.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},e}(Me),be=Ze(),sl=O;function Jr(r, e, t){if(!se.node){var a=e.getZr();be(a).records||(be(a).records={}),ll(a,e);var i=be(a).records[r]||(be(a).records[r]={});i.handler=t}}function ll(r, e){if(be(r).initialized)return;be(r).initialized=!0,t("click",te(nr,"click")),t("mousemove",te(nr,"mousemove")),t("globalout",dl);function t(a, i){r.on(a,function(n){var o=cl(e);sl(be(r).records,function(l){l&&i(l,n,o.dispatchAction)}),ul(o.pendings,e)})}}function ul(r, e){var t=r.showTip.length,a=r.hideTip.length,i;t?i=r.showTip[t-1]:a&&(i=r.hideTip[a-1]),i&&(i.dispatchAction=null,e.dispatchAction(i))}function dl(r, e, t){r.handler("leave",null,t)}function nr(r, e, t, a){e.handler(r,t,a)}function cl(r){var e={showTip:[],hideTip:[]},t=function(a){var i=e[a.type];i?i.push(a):(a.dispatchAction=t,r.dispatchAction(a))};return{dispatchAction:t,pendings:e}}function na(r, e){if(!se.node){var t=e.getZr(),a=(be(t).records||{})[r];a&&(be(t).records[r]=null)}}var fl=function(r){ae(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t, a, i){var n=a.getComponent("tooltip"),o=t.get("triggerOn")||n&&n.get("triggerOn")||"mousemove|click";Jr("axisPointer",i,function(l, s, u){o!=="none"&&(l==="leave"||o.indexOf(l)>=0)&&u({type:"updateAxisPointer",currTrigger:l,x:s&&s.offsetX,y:s&&s.offsetY})})},e.prototype.remove=function(t, a){na("axisPointer",a)},e.prototype.dispose=function(t, a){na("axisPointer",a)},e.type="axisPointer",e}(Ne);function Qr(r, e){var t=[],a=r.seriesIndex,i;if(a==null||!(i=e.getSeriesByIndex(a)))return{point:[]};var n=i.getData(),o=Tn(n,r);if(o==null||o<0||Y(o))return{point:[]};var l=n.getItemGraphicEl(o),s=i.coordinateSystem;if(i.getTooltipPosition)t=i.getTooltipPosition(o)||[];else if(s&&s.dataToPoint)if(r.isStacked){var u=s.getBaseAxis(),d=s.getOtherAxis(u),c=d.dim,f=u.dim,h=c==="x"||c==="radius"?1:0,v=n.mapDimension(f),p=[];p[h]=n.get(v,o),p[1-h]=n.get(n.getCalculationInfo("stackResultDimension"),o),t=s.dataToPoint(p)||[]}else t=s.dataToPoint(n.getValues(Xe(s.dimensions,function(m){return n.mapDimension(m)}),o))||[];else if(l){var g=l.getBoundingRect().clone();g.applyTransform(l.transform),t=[g.x+g.width/2,g.y+g.height/2]}return{point:t,el:l}}var or=Ze();function hl(r, e, t){var a=r.currTrigger,i=[r.x,r.y],n=r,o=r.dispatchAction||oe(t.dispatchAction,t),l=e.getComponent("axisPointer").coordSysAxesInfo;if(l){It(i)&&(i=Qr({seriesIndex:n.seriesIndex,dataIndex:n.dataIndex},e).point);var s=It(i),u=n.axesInfo,d=l.axesInfo,c=a==="leave"||It(i),f={},h={},v={list:[],map:{}},p={showPointer:te(pl,h),showTooltip:te(gl,v)};O(l.coordSysMap,function(m, x){var _=s||m.containPoint(i);O(l.coordSysAxesInfo[x],function(w, S){var D=w.axis,T=xl(u,w);if(!c&&_&&(!u||T)){var C=T&&T.value;C==null&&!s&&(C=D.pointToData(i)),C!=null&&sr(w,C,p,!1,f)}})});var g={};return O(d,function(m, x){var _=m.linkGroup;_&&!h[x]&&O(_.axesInfo,function(w, S){var D=h[S];if(w!==m&&D){var T=D.value;_.mapper&&(T=m.axis.scale.parse(_.mapper(T,lr(w),lr(m)))),g[m.key]=T}})}),O(g,function(m, x){sr(d[x],m,p,!0,f)}),ml(h,d,f),_l(v,i,r,o),yl(d,o,t),f}}function sr(r, e, t, a, i){var n=r.axis;if(!(n.scale.isBlank()||!n.containData(e))){if(!r.involveSeries){t.showPointer(r,e);return}var o=vl(e,r),l=o.payloadBatch,s=o.snapToValue;l[0]&&i.seriesIndex==null&&H(i,l[0]),!a&&r.snap&&n.containData(s)&&s!=null&&(e=s),t.showPointer(r,e,l),t.showTooltip(r,o,s)}}function vl(r, e){var t=e.axis,a=t.dim,i=r,n=[],o=Number.MAX_VALUE,l=-1;return O(e.seriesModels,function(s, u){var d=s.getData().mapDimensionsAll(a),c,f;if(s.getAxisTooltipData){var h=s.getAxisTooltipData(d,r,t);f=h.dataIndices,c=h.nestestValue}else{if(f=s.getData().indicesOfNearest(d[0],r,t.type==="category"?.5:null),!f.length)return;c=s.getData().get(d[0],f[0])}if(!(c==null||!isFinite(c))){var v=r-c,p=Math.abs(v);p<=o&&((p<o||v>=0&&l<0)&&(o=p,l=v,i=c,n.length=0),O(f,function(g){n.push({seriesIndex:s.seriesIndex,dataIndexInside:g,dataIndex:s.getData().getRawIndex(g)})}))}}),{payloadBatch:n,snapToValue:i}}function pl(r, e, t, a){r[e.key]={value:t,payloadBatch:a}}function gl(r, e, t, a){var i=t.payloadBatch,n=e.axis,o=n.model,l=e.axisPointerModel;if(!(!e.triggerTooltip||!i.length)){var s=e.coordSys.model,u=ft(s),d=r.map[u];d||(d=r.map[u]={coordSysId:s.id,coordSysIndex:s.componentIndex,coordSysType:s.type,coordSysMainType:s.mainType,dataByAxis:[]},r.list.push(d)),d.dataByAxis.push({axisDim:n.dim,axisIndex:o.componentIndex,axisType:o.type,axisId:o.id,value:a,valueLabelOpt:{precision:l.get(["label","precision"]),formatter:l.get(["label","formatter"])},seriesDataIndices:i.slice()})}}function ml(r, e, t){var a=t.axesInfo=[];O(e,function(i, n){var o=i.axisPointerModel.option,l=r[n];l?(!i.useHandle&&(o.status="show"),o.value=l.value,o.seriesDataIndices=(l.payloadBatch||[]).slice()):!i.useHandle&&(o.status="hide"),o.status==="show"&&a.push({axisDim:i.axis.dim,axisIndex:i.axis.model.componentIndex,value:o.value})})}function _l(r, e, t, a){if(It(e)||!r.list.length){a({type:"hideTip"});return}var i=((r.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};a({type:"showTip",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:t.tooltipOption,position:t.position,dataIndexInside:i.dataIndexInside,dataIndex:i.dataIndex,seriesIndex:i.seriesIndex,dataByCoordSys:r.list})}function yl(r, e, t){var a=t.getZr(),i="axisPointerLastHighlights",n=or(a)[i]||{},o=or(a)[i]={};O(r,function(u, d){var c=u.axisPointerModel.option;c.status==="show"&&u.triggerEmphasis&&O(c.seriesDataIndices,function(f){var h=f.seriesIndex+" | "+f.dataIndex;o[h]=f})});var l=[],s=[];O(n,function(u, d){!o[d]&&s.push(u)}),O(o,function(u, d){!n[d]&&l.push(u)}),s.length&&t.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:s}),l.length&&t.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:l})}function xl(r, e){for(var t=0; t<(r||[]).length; t++){var a=r[t];if(e.axis.dim===a.axisDim&&e.axis.model.componentIndex===a.axisIndex)return a}}function lr(r){var e=r.axis.model,t={},a=t.axisDim=r.axis.dim;return t.axisIndex=t[a+"AxisIndex"]=e.componentIndex,t.axisName=t[a+"AxisName"]=e.name,t.axisId=t[a+"AxisId"]=e.id,t}function It(r){return!r||r[0]==null||isNaN(r[0])||r[1]==null||isNaN(r[1])}function bl(r){js.registerAxisPointerClass("CartesianAxisPointer",il),r.registerComponentModel(ol),r.registerComponentView(fl),r.registerPreprocessor(function(e){if(e){(!e.axisPointer||e.axisPointer.length===0)&&(e.axisPointer={});var t=e.axisPointer.link;t&&!Y(t)&&(e.axisPointer.link=[t])}}),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,function(e, t){e.getComponent("axisPointer").coordSysAxesInfo=$s(e,t)}),r.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},hl)}function wl(r, e){var t=va(e.get("padding")),a=e.getItemStyle(["color","opacity"]);return a.fill=e.get("backgroundColor"),r=new pt({shape:{x:r.x-t[3],y:r.y-t[0],width:r.width+t[1]+t[3],height:r.height+t[0]+t[2],r:e.get("borderRadius")},style:a,silent:!0,z2:-1}),r}var Sl=function(r){ae(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.type="tooltip",e.dependencies=["axisPointer"],e.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},e}(Me);function ei(r){var e=r.get("confine");return e!=null?!!e:r.get("renderMode")==="richText"}function ti(r){if(se.domSupported){for(var e=document.documentElement.style,t=0,a=r.length; t<a; t++)if(r[t]in e)return r[t]}}var ai=ti(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Cl=ti(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function ri(r, e){if(!r)return e;e=Or(e,!0);var t=r.indexOf(e);return r=t===-1?e:"-"+r.slice(0,t)+"-"+e,r.toLowerCase()}function Tl(r, e){var t=r.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(r);return t?t[e]:null}var Dl=ri(Cl,"transition"),_a=ri(ai,"transform"),Il="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(se.transform3dSupported?"will-change:transform;":"");function Al(r){return r=r==="left"?"right":r==="right"?"left":r==="top"?"bottom":"top",r}function Ll(r, e, t){if(!X(t)||t==="inside")return"";var a=r.get("backgroundColor"),i=r.get("borderWidth");e=kt(e);var n=Al(t),o=Math.max(Math.round(i)*1.5,6),l="",s=_a+":",u;vt(["left","right"],n)>-1?(l+="top:50%",s+="translateY(-50%) rotate("+(u=n==="left"?-225:-45)+"deg)"):(l+="left:50%",s+="translateX(-50%) rotate("+(u=n==="top"?225:45)+"deg)");var d=u*Math.PI/180,c=o+i,f=c*Math.abs(Math.cos(d))+c*Math.abs(Math.sin(d)),h=Math.round(((f-Math.SQRT2*i)/2+Math.SQRT2*i-(f-c)/2)*100)/100;l+=";"+n+":-"+h+"px";var v=e+" solid "+i+"px;",p=["position:absolute;width:"+o+"px;height:"+o+"px;z-index:-1;",l+";"+s+";","border-bottom:"+v,"border-right:"+v,"background-color:"+a+";"];return'<div style="'+p.join("")+'"></div>'}function Pl(r, e){var t="cubic-bezier(0.23,1,0.32,1)",a=" "+r/2+"s "+t,i="opacity"+a+",visibility"+a;return e||(a=" "+r+"s "+t,i+=se.transformSupported?","+_a+a:",left"+a+",top"+a),Dl+":"+i}function ur(r, e, t){var a=r.toFixed(0)+"px",i=e.toFixed(0)+"px";if(!se.transformSupported)return t?"top:"+i+";left:"+a+";":[["top",i],["left",a]];var n=se.transform3dSupported,o="translate"+(n?"3d":"")+"("+a+","+i+(n?",0":"")+")";return t?"top:0;left:0;"+_a+":"+o+";":[["top",0],["left",0],[ai,o]]}function Rl(r){var e=[],t=r.get("fontSize"),a=r.getTextColor();a&&e.push("color:"+a),e.push("font:"+r.getFont()),t&&e.push("line-height:"+Math.round(t*3/2)+"px");var i=r.get("textShadowColor"),n=r.get("textShadowBlur")||0,o=r.get("textShadowOffsetX")||0,l=r.get("textShadowOffsetY")||0;return i&&n&&e.push("text-shadow:"+o+"px "+l+"px "+n+"px "+i),O(["decoration","align"],function(s){var u=r.get(s);u&&e.push("text-"+s+":"+u)}),e.join(";")}function kl(r, e, t){var a=[],i=r.get("transitionDuration"),n=r.get("backgroundColor"),o=r.get("shadowBlur"),l=r.get("shadowColor"),s=r.get("shadowOffsetX"),u=r.get("shadowOffsetY"),d=r.getModel("textStyle"),c=Mr(r,"html"),f=s+"px "+u+"px "+o+"px "+l;return a.push("box-shadow:"+f),e&&i&&a.push(Pl(i,t)),n&&a.push("background-color:"+n),O(["width","color","radius"],function(h){var v="border-"+h,p=Or(v),g=r.get(p);g!=null&&a.push(v+":"+g+(h==="color"?"":"px"))}),a.push(Rl(d)),c!=null&&a.push("padding:"+va(c).join("px ")+"px"),a.join(";")+";"}function dr(r, e, t, a, i){var n=e&&e.painter;if(t){var o=n&&n.getViewportRoot();o&&In(r,o,t,a,i)}else{r[0]=a,r[1]=i;var l=n&&n.getViewportRootOffset();l&&(r[0]+=l.offsetLeft,r[1]+=l.offsetTop)}r[2]=r[0]/e.getWidth(),r[3]=r[1]/e.getHeight()}var Ol=function(){function r(e, t){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,se.wxa)return null;var a=document.createElement("div");a.domBelongToZr=!0,this.el=a;var i=this._zr=e.getZr(),n=t.appendTo,o=n&&(X(n)?document.querySelector(n):Oa(n)?n:fe(n)&&n(e.getDom()));dr(this._styleCoord,i,o,e.getWidth()/2,e.getHeight()/2),(o||e.getDom()).appendChild(a),this._api=e,this._container=o;var l=this;a.onmouseenter=function(){l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0},a.onmousemove=function(s){if(s=s||window.event,!l._enterable){var u=i.handler,d=i.painter.getViewportRoot();Dn(d,s,!0),u.dispatch("mousemove",s)}},a.onmouseleave=function(){l._inContent=!1,l._enterable&&l._show&&l.hideLater(l._hideDelay)}}return r.prototype.update=function(e){if(!this._container){var t=this._api.getDom(),a=Tl(t,"position"),i=t.style;i.position!=="absolute"&&a!=="absolute"&&(i.position="relative")}var n=e.get("alwaysShowContent");n&&this._moveIfResized(),this._alwaysShowContent=n,this.el.className=e.get("className")||""},r.prototype.show=function(e, t){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var a=this.el,i=a.style,n=this._styleCoord;a.innerHTML?i.cssText=Il+kl(e,!this._firstShow,this._longHide)+ur(n[0],n[1],!0)+("border-color:"+kt(t)+";")+(e.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):i.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},r.prototype.setContent=function(e, t, a, i, n){var o=this.el;if(e==null){o.innerHTML="";return}var l="";if(X(n)&&a.get("trigger")==="item"&&!ei(a)&&(l=Ll(a,i,n)),X(e))o.innerHTML=e+l;else if(e){o.innerHTML="",Y(e)||(e=[e]);for(var s=0; s<e.length; s++)Oa(e[s])&&e[s].parentNode!==o&&o.appendChild(e[s]);if(l&&o.childNodes.length){var u=document.createElement("div");u.innerHTML=l,o.appendChild(u)}}},r.prototype.setEnterable=function(e){this._enterable=e},r.prototype.getSize=function(){var e=this.el;return[e.offsetWidth,e.offsetHeight]},r.prototype.moveTo=function(e, t){var a=this._styleCoord;if(dr(a,this._zr,this._container,e,t),a[0]!=null&&a[1]!=null){var i=this.el.style,n=ur(a[0],a[1]);O(n,function(o){i[o[0]]=o[1]})}},r.prototype._moveIfResized=function(){var e=this._styleCoord[2],t=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())},r.prototype.hide=function(){var e=this,t=this.el.style;t.visibility="hidden",t.opacity="0",se.transform3dSupported&&(t.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return e._longHide=!0},500)},r.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(oe(this.hide,this),e)):this.hide())},r.prototype.isShow=function(){return this._show},r.prototype.dispose=function(){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var e=this.el.parentNode;e&&e.removeChild(this.el),this.el=this._container=null},r}(),Ml=function(){function r(e){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=e.getZr(),fr(this._styleCoord,this._zr,e.getWidth()/2,e.getHeight()/2)}return r.prototype.update=function(e){var t=e.get("alwaysShowContent");t&&this._moveIfResized(),this._alwaysShowContent=t},r.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},r.prototype.setContent=function(e, t, a, i, n){var o=this;ve(e)&&An(""),this.el&&this._zr.remove(this.el);var l=a.getModel("textStyle");this.el=new _e({style:{rich:t.richTextStyles,text:e,lineHeight:22,borderWidth:1,borderColor:i,textShadowColor:l.get("textShadowColor"),fill:a.get(["textStyle","color"]),padding:Mr(a,"richText"),verticalAlign:"top",align:"left"},z:a.get("z")}),O(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(u){o.el.style[u]=a.get(u)}),O(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(u){o.el.style[u]=l.get(u)||0}),this._zr.add(this.el);var s=this;this.el.on("mouseover",function(){s._enterable&&(clearTimeout(s._hideTimeout),s._show=!0),s._inContent=!0}),this.el.on("mouseout",function(){s._enterable&&s._show&&s.hideLater(s._hideDelay),s._inContent=!1})},r.prototype.setEnterable=function(e){this._enterable=e},r.prototype.getSize=function(){var e=this.el,t=this.el.getBoundingRect(),a=cr(e.style);return[t.width+a.left+a.right,t.height+a.top+a.bottom]},r.prototype.moveTo=function(e, t){var a=this.el;if(a){var i=this._styleCoord;fr(i,this._zr,e,t),e=i[0],t=i[1];var n=a.style,o=Ce(n.borderWidth||0),l=cr(n);a.x=e+o+l.left,a.y=t+o+l.top,a.markRedraw()}},r.prototype._moveIfResized=function(){var e=this._styleCoord[2],t=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())},r.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},r.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(oe(this.hide,this),e)):this.hide())},r.prototype.isShow=function(){return this._show},r.prototype.dispose=function(){this._zr.remove(this.el)},r}();function Ce(r){return Math.max(0,r)}function cr(r){var e=Ce(r.shadowBlur||0),t=Ce(r.shadowOffsetX||0),a=Ce(r.shadowOffsetY||0);return{left:Ce(e-t),right:Ce(e+t),top:Ce(e-a),bottom:Ce(e+a)}}function fr(r, e, t, a){r[0]=t,r[1]=a,r[2]=r[0]/e.getWidth(),r[3]=r[1]/e.getHeight()}var El=new pt({shape:{x:-1,y:-1,width:2,height:2}}),Bl=function(r){ae(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t, a){if(!(se.node||!a.getDom())){var i=t.getComponent("tooltip"),n=this._renderMode=Ln(i.get("renderMode"));this._tooltipContent=n==="richText"?new Ml(a):new Ol(a,{appendTo:i.get("appendToBody",!0)?"body":i.get("appendTo",!0)})}},e.prototype.render=function(t, a, i){if(!(se.node||!i.getDom())){this.group.removeAll(),this._tooltipModel=t,this._ecModel=a,this._api=i;var n=this._tooltipContent;n.update(t),n.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&t.get("transitionDuration")?kr(this,"_updatePosition",50,"fixRate"):aa(this,"_updatePosition")}},e.prototype._initGlobalListener=function(){var t=this._tooltipModel,a=t.get("triggerOn");Jr("itemTooltip",this._api,oe(function(i, n, o){a!=="none"&&(a.indexOf(i)>=0?this._tryShow(n,o):i==="leave"&&this._hide(o))},this))},e.prototype._keepShow=function(){var t=this._tooltipModel,a=this._ecModel,i=this._api,n=t.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&n!=="none"&&n!=="click"){var o=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!i.isDisposed()&&o.manuallyShowTip(t,a,i,{x:o._lastX,y:o._lastY,dataByCoordSys:o._lastDataByCoordSys})})}},e.prototype.manuallyShowTip=function(t, a, i, n){if(!(n.from===this.uid||se.node||!i.getDom())){var o=hr(n,i);this._ticket="";var l=n.dataByCoordSys,s=Gl(n,a,i);if(s){var u=s.el.getBoundingRect().clone();u.applyTransform(s.el.transform),this._tryShow({offsetX:u.x+u.width/2,offsetY:u.y+u.height/2,target:s.el,position:n.position,positionDefault:"bottom"},o)}else if(n.tooltip&&n.x!=null&&n.y!=null){var d=El;d.x=n.x,d.y=n.y,d.update(),de(d).tooltipConfig={name:null,option:n.tooltip},this._tryShow({offsetX:n.x,offsetY:n.y,target:d},o)}else if(l)this._tryShow({offsetX:n.x,offsetY:n.y,position:n.position,dataByCoordSys:l,tooltipOption:n.tooltipOption},o);else if(n.seriesIndex!=null){if(this._manuallyAxisShowTip(t,a,i,n))return;var c=Qr(n,a),f=c.point[0],h=c.point[1];f!=null&&h!=null&&this._tryShow({offsetX:f,offsetY:h,target:c.el,position:n.position,positionDefault:"bottom"},o)}else n.x!=null&&n.y!=null&&(i.dispatchAction({type:"updateAxisPointer",x:n.x,y:n.y}),this._tryShow({offsetX:n.x,offsetY:n.y,position:n.position,target:i.getZr().findHover(n.x,n.y).target},o))}},e.prototype.manuallyHideTip=function(t, a, i, n){var o=this._tooltipContent;this._tooltipModel&&o.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,n.from!==this.uid&&this._hide(hr(n,i))},e.prototype._manuallyAxisShowTip=function(t, a, i, n){var o=n.seriesIndex,l=n.dataIndex,s=a.getComponent("axisPointer").coordSysAxesInfo;if(!(o==null||l==null||s==null)){var u=a.getSeriesByIndex(o);if(u){var d=u.getData(),c=it([d.getItemModel(l),u,(u.coordinateSystem||{}).model],this._tooltipModel);if(c.get("trigger")==="axis")return i.dispatchAction({type:"updateAxisPointer",seriesIndex:o,dataIndex:l,position:n.position}),!0}}},e.prototype._tryShow=function(t, a){var i=t.target,n=this._tooltipModel;if(n){this._lastX=t.offsetX,this._lastY=t.offsetY;var o=t.dataByCoordSys;if(o&&o.length)this._showAxisTooltip(o,t);else if(i){var l=de(i);if(l.ssrType==="legend")return;this._lastDataByCoordSys=null;var s,u;Pn(i,function(d){if(de(d).dataIndex!=null)return s=d,!0;if(de(d).tooltipConfig!=null)return u=d,!0},!0),s?this._showSeriesItemTooltip(t,s,a):u?this._showComponentItemTooltip(t,u,a):this._hide(a)}else this._lastDataByCoordSys=null,this._hide(a)}},e.prototype._showOrMove=function(t, a){var i=t.get("showDelay");a=oe(a,this),clearTimeout(this._showTimout),i>0?this._showTimout=setTimeout(a,i):a()},e.prototype._showAxisTooltip=function(t, a){var i=this._ecModel,n=this._tooltipModel,o=[a.offsetX,a.offsetY],l=it([a.tooltipOption],n),s=this._renderMode,u=[],d=Ma("section",{blocks:[],noHeader:!0}),c=[],f=new Gt;O(t,function(x){O(x.dataByAxis,function(_){var w=i.getComponent(_.axisDim+"Axis",_.axisIndex),S=_.value;if(!(!w||S==null)){var D=jr(S,w.axis,i,_.seriesDataIndices,_.valueLabelOpt),T=Ma("section",{header:D,noHeader:!Rn(D),sortBlocks:!0,blocks:[]});d.blocks.push(T),O(_.seriesDataIndices,function(C){var A=i.getSeriesByIndex(C.seriesIndex),I=C.dataIndexInside,L=A.getDataParams(I);if(!(L.dataIndex<0)){L.axisDim=_.axisDim,L.axisIndex=_.axisIndex,L.axisType=_.axisType,L.axisId=_.axisId,L.axisValue=Fr(w.axis,{value:S}),L.axisValueLabel=D,L.marker=f.makeTooltipMarker("item",kt(L.color),s);var k=Ea(A.formatTooltip(I,!0,null)),R=k.frag;if(R){var z=it([A],n).get("valueFormatter");T.blocks.push(z?H({valueFormatter:z},R):R)}k.text&&c.push(k.text),u.push(L)}})}})}),d.blocks.reverse(),c.reverse();var h=a.position,v=l.get("order"),p=Ba(d,f,s,v,i.get("useUTC"),l.get("textStyle"));p&&c.unshift(p);var g=s==="richText"?`

`:"<br/>",m=c.join(g);this._showOrMove(l,function(){this._updateContentNotChangedOnAxis(t,u)?this._updatePosition(l,h,o[0],o[1],this._tooltipContent,u):this._showTooltipContent(l,m,u,Math.random()+"",o[0],o[1],h,null,f)})},e.prototype._showSeriesItemTooltip=function(t,a,i){var n=this._ecModel,o=de(a),l=o.seriesIndex,s=n.getSeriesByIndex(l),u=o.dataModel||s,d=o.dataIndex,c=o.dataType,f=u.getData(c),h=this._renderMode,v=t.positionDefault,p=it([f.getItemModel(d),u,s&&(s.coordinateSystem||{}).model],this._tooltipModel,v?{position:v}:null),g=p.get("trigger");if(!(g!=null&&g!=="item")){var m=u.getDataParams(d,c),x=new Gt;m.marker=x.makeTooltipMarker("item",kt(m.color),h);var _=Ea(u.formatTooltip(d,!1,c)),w=p.get("order"),S=p.get("valueFormatter"),D=_.frag,T=D?Ba(S?H({valueFormatter:S},D):D,x,h,w,n.get("useUTC"),p.get("textStyle")):_.text,C="item_"+u.name+"_"+d;this._showOrMove(p,function(){this._showTooltipContent(p,T,m,C,t.offsetX,t.offsetY,t.position,t.target,x)}),i({type:"showTip",dataIndexInside:d,dataIndex:f.getRawIndex(d),seriesIndex:l,from:this.uid})}},e.prototype._showComponentItemTooltip=function(t,a,i){var n=this._renderMode==="html",o=de(a),l=o.tooltipConfig,s=l.option||{},u=s.encodeHTMLContent;if(X(s)){var d=s;s={content:d,formatter:d},u=!0}u&&n&&s.content&&(s=We(s),s.content=kn(s.content));var c=[s],f=this._ecModel.getComponent(o.componentMainType,o.componentIndex);f&&c.push(f),c.push({formatter:s.content});var h=t.positionDefault,v=it(c,this._tooltipModel,h?{position:h}:null),p=v.get("content"),g=Math.random()+"",m=new Gt;this._showOrMove(v,function(){var x=We(v.get("formatterParams")||{});this._showTooltipContent(v,p,x,g,t.offsetX,t.offsetY,t.position,a,m)}),i({type:"showTip",from:this.uid})},e.prototype._showTooltipContent=function(t,a,i,n,o,l,s,u,d){if(this._ticket="",!(!t.get("showContent")||!t.get("show"))){var c=this._tooltipContent;c.setEnterable(t.get("enterable"));var f=t.get("formatter");s=s||t.get("position");var h=a,v=this._getNearestPoint([o,l],i,t.get("trigger"),t.get("borderColor")),p=v.color;if(f)if(X(f)){var g=t.ecModel.get("useUTC"),m=Y(i)?i[0]:i,x=m&&m.axisType&&m.axisType.indexOf("time")>=0;h=f,x&&(h=On(m.axisValue,h,g)),h=Mn(h,i,!0)}else if(fe(f)){var _=oe(function(w,S){w===this._ticket&&(c.setContent(S,d,t,p,s),this._updatePosition(t,s,o,l,c,i,u))},this);this._ticket=n,h=f(i,n,_)}else h=f;c.setContent(h,d,t,p,s),c.show(t,p),this._updatePosition(t,s,o,l,c,i,u)}},e.prototype._getNearestPoint=function(t,a,i,n){if(i==="axis"||Y(a))return{color:n||(this._renderMode==="html"?"#fff":"none")};if(!Y(a))return{color:n||a.color||a.borderColor}},e.prototype._updatePosition=function(t,a,i,n,o,l,s){var u=this._api.getWidth(),d=this._api.getHeight();a=a||t.get("position");var c=o.getSize(),f=t.get("align"),h=t.get("verticalAlign"),v=s&&s.getBoundingRect().clone();if(s&&v.applyTransform(s.transform),fe(a)&&(a=a([i,n],l,o.el,v,{viewSize:[u,d],contentSize:c.slice()})),Y(a))i=he(a[0],u),n=he(a[1],d);else if(ve(a)){var p=a;p.width=c[0],p.height=c[1];var g=ut(p,{width:u,height:d});i=g.x,n=g.y,f=null,h=null}else if(X(a)&&s){var m=Vl(a,v,c,t.get("borderWidth"));i=m[0],n=m[1]}else{var m=Nl(i,n,o,u,d,f?null:20,h?null:20);i=m[0],n=m[1]}if(f&&(i-=vr(f)?c[0]/2:f==="right"?c[0]:0),h&&(n-=vr(h)?c[1]/2:h==="bottom"?c[1]:0),ei(t)){var m=zl(i,n,o,u,d);i=m[0],n=m[1]}o.moveTo(i,n)},e.prototype._updateContentNotChangedOnAxis=function(t,a){var i=this._lastDataByCoordSys,n=this._cbParamsList,o=!!i&&i.length===t.length;return o&&O(i,function(l,s){var u=l.dataByAxis||[],d=t[s]||{},c=d.dataByAxis||[];o=o&&u.length===c.length,o&&O(u,function(f,h){var v=c[h]||{},p=f.seriesDataIndices||[],g=v.seriesDataIndices||[];o=o&&f.value===v.value&&f.axisType===v.axisType&&f.axisId===v.axisId&&p.length===g.length,o&&O(p,function(m,x){var _=g[x];o=o&&m.seriesIndex===_.seriesIndex&&m.dataIndex===_.dataIndex}),n&&O(f.seriesDataIndices,function(m){var x=m.seriesIndex,_=a[x],w=n[x];_&&w&&w.data!==_.data&&(o=!1)})})}),this._lastDataByCoordSys=t,this._cbParamsList=a,!!o},e.prototype._hide=function(t){this._lastDataByCoordSys=null,t({type:"hideTip",from:this.uid})},e.prototype.dispose=function(t,a){se.node||!a.getDom()||(aa(this,"_updatePosition"),this._tooltipContent.dispose(),na("itemTooltip",a))},e.type="tooltip",e}(Ne);function it(r,e,t){var a=e.ecModel,i;t?(i=new Te(t,a,a),i=new Te(e.option,i,a)):i=e;for(var n=r.length-1;n>=0;n--){var o=r[n];o&&(o instanceof Te&&(o=o.get("tooltip",!0)),X(o)&&(o={formatter:o}),o&&(i=new Te(o,i,a)))}return i}function hr(r,e){return r.dispatchAction||oe(e.dispatchAction,e)}function Nl(r,e,t,a,i,n,o){var l=t.getSize(),s=l[0],u=l[1];return n!=null&&(r+s+n+2>a?r-=s+n:r+=n),o!=null&&(e+u+o>i?e-=u+o:e+=o),[r,e]}function zl(r,e,t,a,i){var n=t.getSize(),o=n[0],l=n[1];return r=Math.min(r+o,a)-o,e=Math.min(e+l,i)-l,r=Math.max(r,0),e=Math.max(e,0),[r,e]}function Vl(r,e,t,a){var i=t[0],n=t[1],o=Math.ceil(Math.SQRT2*a)+8,l=0,s=0,u=e.width,d=e.height;switch(r){case"inside":l=e.x+u/2-i/2,s=e.y+d/2-n/2;break;case"top":l=e.x+u/2-i/2,s=e.y-n-o;break;case"bottom":l=e.x+u/2-i/2,s=e.y+d+o;break;case"left":l=e.x-i-o,s=e.y+d/2-n/2;break;case"right":l=e.x+u+o,s=e.y+d/2-n/2}return[l,s]}function vr(r){return r==="center"||r==="middle"}function Gl(r,e,t){var a=En(r).queryOptionMap,i=a.keys()[0];if(!(!i||i==="series")){var n=Bn(e,i,a.get(i),{useDefault:!1,enableAll:!1,enableNone:!1}),o=n.models[0];if(o){var l=t.getViewOfComponentModel(o),s;if(l.group.traverse(function(u){var d=de(u).tooltipConfig;if(d&&d.name===r.name)return s=u,!0}),s)return{componentMainType:i,componentIndex:o.componentIndex,el:s}}}}function Hl(r){Ye(bl),r.registerComponentModel(Sl),r.registerComponentView(Bl),r.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},Na),r.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},Na)}var Fl=function(r){ae(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.layoutMode={type:"box",ignoreSize:!0},t}return e.type="title",e.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},e}(Me),$l=function(r){ae(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,a,i){if(this.group.removeAll(),!!t.get("show")){var n=this.group,o=t.getModel("textStyle"),l=t.getModel("subtextStyle"),s=t.get("textAlign"),u=xe(t.get("textBaseline"),t.get("textVerticalAlign")),d=new _e({style:qe(o,{text:t.get("text"),fill:o.getTextColor()},{disableBox:!0}),z2:10}),c=d.getBoundingRect(),f=t.get("subtext"),h=new _e({style:qe(l,{text:f,fill:l.getTextColor(),y:c.height+t.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),v=t.get("link"),p=t.get("sublink"),g=t.get("triggerEvent",!0);d.silent=!v&&!g,h.silent=!p&&!g,v&&d.on("click",function(){za(v,"_"+t.get("target"))}),p&&h.on("click",function(){za(p,"_"+t.get("subtarget"))}),de(d).eventData=de(h).eventData=g?{componentType:"title",componentIndex:t.componentIndex}:null,n.add(d),f&&n.add(h);var m=n.getBoundingRect(),x=t.getBoxLayoutParams();x.width=m.width,x.height=m.height;var _=ut(x,{width:i.getWidth(),height:i.getHeight()},t.get("padding"));s||(s=t.get("left")||t.get("right"),s==="middle"&&(s="center"),s==="right"?_.x+=_.width:s==="center"&&(_.x+=_.width/2)),u||(u=t.get("top")||t.get("bottom"),u==="center"&&(u="middle"),u==="bottom"?_.y+=_.height:u==="middle"&&(_.y+=_.height/2),u=u||"top"),n.x=_.x,n.y=_.y,n.markRedraw();var w={align:s,verticalAlign:u};d.setStyle(w),h.setStyle(w),m=n.getBoundingRect();var S=_.margin,D=t.getItemStyle(["color","opacity"]);D.fill=t.get("backgroundColor");var T=new pt({shape:{x:m.x-S[3],y:m.y-S[0],width:m.width+S[1]+S[3],height:m.height+S[0]+S[2],r:t.get("borderRadius")},style:D,subPixelOptimize:!0,silent:!0});n.add(T)}},e.type="title",e}(Ne);function Ul(r){r.registerComponentModel(Fl),r.registerComponentView($l)}var Wl=function(r,e){if(e==="all")return{type:"all",title:r.getLocaleModel().get(["legend","selector","all"])};if(e==="inverse")return{type:"inverse",title:r.getLocaleModel().get(["legend","selector","inverse"])}},oa=function(r){ae(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.layoutMode={type:"box",ignoreSize:!0},t}return e.prototype.init=function(t,a,i){this.mergeDefaultAndTheme(t,i),t.selected=t.selected||{},this._updateSelector(t)},e.prototype.mergeOption=function(t,a){r.prototype.mergeOption.call(this,t,a),this._updateSelector(t)},e.prototype._updateSelector=function(t){var a=t.selector,i=this.ecModel;a===!0&&(a=t.selector=["all","inverse"]),Y(a)&&O(a,function(n,o){X(n)&&(n={type:n}),a[o]=st(n,Wl(i,n.type))})},e.prototype.optionUpdated=function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&this.get("selectedMode")==="single"){for(var a=!1,i=0;i<t.length;i++){var n=t[i].get("name");if(this.isSelected(n)){this.select(n),a=!0;break}}!a&&this.select(t[0].get("name"))}},e.prototype._updateData=function(t){var a=[],i=[];t.eachRawSeries(function(s){var u=s.name;i.push(u);var d;if(s.legendVisualProvider){var c=s.legendVisualProvider,f=c.getAllNames();t.isSeriesFiltered(s)||(i=i.concat(f)),f.length?a=a.concat(f):d=!0}else d=!0;d&&Nn(s)&&a.push(s.name)}),this._availableNames=i;var n=this.get("data")||a,o=Pe(),l=Xe(n,function(s){return(X(s)||ht(s))&&(s={name:s}),o.get(s.name)?null:(o.set(s.name,!0),new Te(s,this,this.ecModel))},this);this._data=zn(l,function(s){return!!s})},e.prototype.getData=function(){return this._data},e.prototype.select=function(t){var a=this.option.selected,i=this.get("selectedMode");if(i==="single"){var n=this._data;O(n,function(o){a[o.get("name")]=!1})}a[t]=!0},e.prototype.unSelect=function(t){this.get("selectedMode")!=="single"&&(this.option.selected[t]=!1)},e.prototype.toggleSelected=function(t){var a=this.option.selected;a.hasOwnProperty(t)||(a[t]=!0),this[a[t]?"unSelect":"select"](t)},e.prototype.allSelect=function(){var t=this._data,a=this.option.selected;O(t,function(i){a[i.get("name",!0)]=!0})},e.prototype.inverseSelect=function(){var t=this._data,a=this.option.selected;O(t,function(i){var n=i.get("name",!0);a.hasOwnProperty(n)||(a[n]=!0),a[n]=!a[n]})},e.prototype.isSelected=function(t){var a=this.option.selected;return!(a.hasOwnProperty(t)&&!a[t])&&vt(this._availableNames,t)>=0},e.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},e.type="legend.plain",e.dependencies=["series"],e.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},e}(Me),$e=te,sa=O,Tt=ct,ii=function(r){ae(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.newlineDisabled=!1,t}return e.prototype.init=function(){this.group.add(this._contentGroup=new Tt),this.group.add(this._selectorGroup=new Tt),this._isFirstRender=!0},e.prototype.getContentGroup=function(){return this._contentGroup},e.prototype.getSelectorGroup=function(){return this._selectorGroup},e.prototype.render=function(t,a,i){var n=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!t.get("show",!0)){var o=t.get("align"),l=t.get("orient");(!o||o==="auto")&&(o=t.get("left")==="right"&&l==="vertical"?"right":"left");var s=t.get("selector",!0),u=t.get("selectorPosition",!0);s&&(!u||u==="auto")&&(u=l==="horizontal"?"end":"start"),this.renderInner(o,t,a,i,s,l,u);var d=t.getBoxLayoutParams(),c={width:i.getWidth(),height:i.getHeight()},f=t.get("padding"),h=ut(d,c,f),v=this.layoutInner(t,o,h,n,s,u),p=ut(we({width:v.width,height:v.height},d),c,f);this.group.x=p.x-v.x,this.group.y=p.y-v.y,this.group.markRedraw(),this.group.add(this._backgroundEl=wl(v,t))}},e.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},e.prototype.renderInner=function(t,a,i,n,o,l,s){var u=this.getContentGroup(),d=Pe(),c=a.get("selectedMode"),f=[];i.eachRawSeries(function(h){!h.get("legendHoverLink")&&f.push(h.id)}),sa(a.getData(),function(h,v){var p=h.get("name");if(!this.newlineDisabled&&(p===""||p===`
`)){var g=new Tt;g.newline=!0,u.add(g);return}var m=i.getSeriesByName(p)[0];if(!d.get(p))if(m){var x=m.getData(),_=x.getVisual("legendLineStyle")||{},w=x.getVisual("legendIcon"),S=x.getVisual("style"),D=this._createItem(m,p,v,h,a,t,_,S,w,c,n);D.on("click",$e(pr,p,null,n,f)).on("mouseover",$e(la,m.name,null,n,f)).on("mouseout",$e(ua,m.name,null,n,f)),i.ssr&&D.eachChild(function(T){var C=de(T);C.seriesIndex=m.seriesIndex,C.dataIndex=v,C.ssrType="legend"}),d.set(p,!0)}else i.eachRawSeries(function(T){if(!d.get(p)&&T.legendVisualProvider){var C=T.legendVisualProvider;if(!C.containName(p))return;var A=C.indexOfName(p),I=C.getItemVisual(A,"style"),L=C.getItemVisual(A,"legendIcon"),k=Vn(I.fill);k&&k[3]===0&&(k[3]=.2,I=H(H({},I),{fill:Gn(k,"rgba")}));var R=this._createItem(T,p,v,h,a,t,{},I,L,c,n);R.on("click",$e(pr,null,p,n,f)).on("mouseover",$e(la,null,p,n,f)).on("mouseout",$e(ua,null,p,n,f)),i.ssr&&R.eachChild(function(z){var E=de(z);E.seriesIndex=T.seriesIndex,E.dataIndex=v,E.ssrType="legend"}),d.set(p,!0)}},this)},this),o&&this._createSelector(o,a,n,l,s)},e.prototype._createSelector=function(t,a,i,n,o){var l=this.getSelectorGroup();sa(t,function(u){var d=u.type,c=new _e({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){i.dispatchAction({type:d==="all"?"legendAllSelect":"legendInverseSelect"})}});l.add(c);var f=a.getModel("selectorLabel"),h=a.getModel(["emphasis","selectorLabel"]);Sr(c,{normal:f,emphasis:h},{defaultText:u.title}),Va(c)})},e.prototype._createItem=function(t,a,i,n,o,l,s,u,d,c,f){var h=t.visualDrawType,v=o.get("itemWidth"),p=o.get("itemHeight"),g=o.isSelected(a),m=n.get("symbolRotate"),x=n.get("symbolKeepAspect"),_=n.get("icon");d=_||d||"roundRect";var w=ql(d,n,s,u,h,g,f),S=new Tt,D=n.getModel("textStyle");if(fe(t.getLegendIcon)&&(!_||_==="inherit"))S.add(t.getLegendIcon({itemWidth:v,itemHeight:p,icon:d,iconRotate:m,itemStyle:w.itemStyle,lineStyle:w.lineStyle,symbolKeepAspect:x}));else{var T=_==="inherit"&&t.getData().getVisual("symbol")?m==="inherit"?t.getData().getVisual("symbolRotate"):m:0;S.add(Yl({itemWidth:v,itemHeight:p,icon:d,iconRotate:T,itemStyle:w.itemStyle,lineStyle:w.lineStyle,symbolKeepAspect:x}))}var C=l==="left"?v+5:-5,A=l,I=o.get("formatter"),L=a;X(I)&&I?L=I.replace("{name}",a??""):fe(I)&&(L=I(a));var k=g?D.getTextColor():n.get("inactiveColor");S.add(new _e({style:qe(D,{text:L,x:C,y:p/2,fill:k,align:A,verticalAlign:"middle"},{inheritColor:k})}));var R=new pt({shape:S.getBoundingRect(),style:{fill:"transparent"}}),z=n.getModel("tooltip");return z.get("show")&&Ar({el:R,componentModel:o,itemName:a,itemTooltipOption:z.option}),S.add(R),S.eachChild(function(E){E.silent=!0}),R.silent=!c,this.getContentGroup().add(S),Va(S),S.__legendDataIndex=i,S},e.prototype.layoutInner=function(t,a,i,n,o,l){var s=this.getContentGroup(),u=this.getSelectorGroup();lt(t.get("orient"),s,t.get("itemGap"),i.width,i.height);var d=s.getBoundingRect(),c=[-d.x,-d.y];if(u.markRedraw(),s.markRedraw(),o){lt("horizontal",u,t.get("selectorItemGap",!0));var f=u.getBoundingRect(),h=[-f.x,-f.y],v=t.get("selectorButtonGap",!0),p=t.getOrient().index,g=p===0?"width":"height",m=p===0?"height":"width",x=p===0?"y":"x";l==="end"?h[p]+=d[g]+v:c[p]+=f[g]+v,h[1-p]+=d[m]/2-f[m]/2,u.x=h[0],u.y=h[1],s.x=c[0],s.y=c[1];var _={x:0,y:0};return _[g]=d[g]+v+f[g],_[m]=Math.max(d[m],f[m]),_[x]=Math.min(0,f[x]+h[1-p]),_}else return s.x=c[0],s.y=c[1],this.group.getBoundingRect()},e.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},e.type="legend.plain",e}(Ne);function ql(r,e,t,a,i,n,o){function l(g,m){g.lineWidth==="auto"&&(g.lineWidth=m.lineWidth>0?2:0),sa(g,function(x,_){g[_]==="inherit"&&(g[_]=m[_])})}var s=e.getModel("itemStyle"),u=s.getItemStyle(),d=r.lastIndexOf("empty",0)===0?"fill":"stroke",c=s.getShallow("decal");u.decal=!c||c==="inherit"?a.decal:Hn(c,o),u.fill==="inherit"&&(u.fill=a[i]),u.stroke==="inherit"&&(u.stroke=a[d]),u.opacity==="inherit"&&(u.opacity=(i==="fill"?a:t).opacity),l(u,a);var f=e.getModel("lineStyle"),h=f.getLineStyle();if(l(h,t),u.fill==="auto"&&(u.fill=a.fill),u.stroke==="auto"&&(u.stroke=a.fill),h.stroke==="auto"&&(h.stroke=a.fill),!n){var v=e.get("inactiveBorderWidth"),p=u[d];u.lineWidth=v==="auto"?a.lineWidth>0&&p?2:0:u.lineWidth,u.fill=e.get("inactiveColor"),u.stroke=e.get("inactiveBorderColor"),h.stroke=f.get("inactiveColor"),h.lineWidth=f.get("inactiveWidth")}return{itemStyle:u,lineStyle:h}}function Yl(r){var e=r.icon||"roundRect",t=Ir(e,0,0,r.itemWidth,r.itemHeight,r.itemStyle.fill,r.symbolKeepAspect);return t.setStyle(r.itemStyle),t.rotation=(r.iconRotate||0)*Math.PI/180,t.setOrigin([r.itemWidth/2,r.itemHeight/2]),e.indexOf("empty")>-1&&(t.style.stroke=t.style.fill,t.style.fill="#fff",t.style.lineWidth=2),t}function pr(r,e,t,a){ua(r,e,t,a),t.dispatchAction({type:"legendToggleSelect",name:r??e}),la(r,e,t,a)}function ni(r){for(var e=r.getZr().storage.getDisplayList(),t,a=0,i=e.length;a<i&&!(t=e[a].states.emphasis);)a++;return t&&t.hoverLayer}function la(r,e,t,a){ni(t)||t.dispatchAction({type:"highlight",seriesName:r,name:e,excludeSeriesId:a})}function ua(r,e,t,a){ni(t)||t.dispatchAction({type:"downplay",seriesName:r,name:e,excludeSeriesId:a})}function Xl(r){var e=r.findComponents({mainType:"legend"});e&&e.length&&r.filterSeries(function(t){for(var a=0;a<e.length;a++)if(!e[a].isSelected(t.name))return!1;return!0})}function nt(r,e,t){var a={},i=r==="toggleSelected",n;return t.eachComponent("legend",function(o){i&&n!=null?o[n?"select":"unSelect"](e.name):r==="allSelect"||r==="inverseSelect"?o[r]():(o[r](e.name),n=o.isSelected(e.name));var l=o.getData();O(l,function(s){var u=s.get("name");if(!(u===`
`||u==="")){var d=o.isSelected(u);a.hasOwnProperty(u)?a[u]=a[u]&&d:a[u]=d}})}),r==="allSelect"||r==="inverseSelect"?{selected:a}:{name:e.name,selected:a}}function Zl(r){r.registerAction("legendToggleSelect","legendselectchanged",te(nt,"toggleSelected")),r.registerAction("legendAllSelect","legendselectall",te(nt,"allSelect")),r.registerAction("legendInverseSelect","legendinverseselect",te(nt,"inverseSelect")),r.registerAction("legendSelect","legendselected",te(nt,"select")),r.registerAction("legendUnSelect","legendunselected",te(nt,"unSelect"))}function oi(r){r.registerComponentModel(oa),r.registerComponentView(ii),r.registerProcessor(r.PRIORITY.PROCESSOR.SERIES_FILTER,Xl),r.registerSubTypeDefaulter("legend",function(){return"plain"}),Zl(r)}var jl=function(r){ae(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.setScrollDataIndex=function(t){this.option.scrollDataIndex=t},e.prototype.init=function(t,a,i){var n=Fn(t);r.prototype.init.call(this,t,a,i),gr(this,t,n)},e.prototype.mergeOption=function(t,a){r.prototype.mergeOption.call(this,t,a),gr(this,this.option,t)},e.type="legend.scroll",e.defaultOption=$n(oa.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),e}(oa);function gr(r,e,t){var a=r.getOrient(),i=[1,1];i[a.index]=0,Un(e,t,{type:"box",ignoreSize:!!i})}var mr=ct,jt=["width","height"],Kt=["x","y"],Kl=function(r){ae(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.newlineDisabled=!0,t._currentIndex=0,t}return e.prototype.init=function(){r.prototype.init.call(this),this.group.add(this._containerGroup=new mr),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new mr)},e.prototype.resetInner=function(){r.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},e.prototype.renderInner=function(t,a,i,n,o,l,s){var u=this;r.prototype.renderInner.call(this,t,a,i,n,o,l,s);var d=this._controllerGroup,c=a.get("pageIconSize",!0),f=Y(c)?c:[c,c];v("pagePrev",0);var h=a.getModel("pageTextStyle");d.add(new _e({name:"pageText",style:{text:"xx/xx",fill:h.getTextColor(),font:h.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),v("pageNext",1);function v(p,g){var m=p+"DataIndex",x=Rr(a.get("pageIcons",!0)[a.getOrient().name][g],{onclick:oe(u._pageGo,u,m,a,n)},{x:-f[0]/2,y:-f[1]/2,width:f[0],height:f[1]});x.name=p,d.add(x)}},e.prototype.layoutInner=function(t,a,i,n,o,l){var s=this.getSelectorGroup(),u=t.getOrient().index,d=jt[u],c=Kt[u],f=jt[1-u],h=Kt[1-u];o&&lt("horizontal",s,t.get("selectorItemGap",!0));var v=t.get("selectorButtonGap",!0),p=s.getBoundingRect(),g=[-p.x,-p.y],m=We(i);o&&(m[d]=i[d]-p[d]-v);var x=this._layoutContentAndController(t,n,m,u,d,f,h,c);if(o){if(l==="end")g[u]+=x[d]+v;else{var _=p[d]+v;g[u]-=_,x[c]-=_}x[d]+=p[d]+v,g[1-u]+=x[h]+x[f]/2-p[f]/2,x[f]=Math.max(x[f],p[f]),x[h]=Math.min(x[h],p[h]+g[1-u]),s.x=g[0],s.y=g[1],s.markRedraw()}return x},e.prototype._layoutContentAndController=function(t,a,i,n,o,l,s,u){var d=this.getContentGroup(),c=this._containerGroup,f=this._controllerGroup;lt(t.get("orient"),d,t.get("itemGap"),n?i.width:null,n?null:i.height),lt("horizontal",f,t.get("pageButtonItemGap",!0));var h=d.getBoundingRect(),v=f.getBoundingRect(),p=this._showController=h[o]>i[o],g=[-h.x,-h.y];a||(g[n]=d[u]);var m=[0,0],x=[-v.x,-v.y],_=xe(t.get("pageButtonGap",!0),t.get("itemGap",!0));if(p){var w=t.get("pageButtonPosition",!0);w==="end"?x[n]+=i[o]-v[o]:m[n]+=v[o]+_}x[1-n]+=h[l]/2-v[l]/2,d.setPosition(g),c.setPosition(m),f.setPosition(x);var S={x:0,y:0};if(S[o]=p?i[o]:h[o],S[l]=Math.max(h[l],v[l]),S[s]=Math.min(0,v[s]+x[1-n]),c.__rectSize=i[o],p){var D={x:0,y:0};D[o]=Math.max(i[o]-v[o]-_,0),D[l]=S[l],c.setClipPath(new pt({shape:D})),c.__rectSize=D[o]}else f.eachChild(function(C){C.attr({invisible:!0,silent:!0})});var T=this._getPageInfo(t);return T.pageIndex!=null&&Lt(d,{x:T.contentPosition[0],y:T.contentPosition[1]},p?t:null),this._updatePageInfoView(t,T),S},e.prototype._pageGo=function(t,a,i){var n=this._getPageInfo(a)[t];n!=null&&i.dispatchAction({type:"legendScroll",scrollDataIndex:n,legendId:a.id})},e.prototype._updatePageInfoView=function(t,a){var i=this._controllerGroup;O(["pagePrev","pageNext"],function(d){var c=d+"DataIndex",f=a[c]!=null,h=i.childOfName(d);h&&(h.setStyle("fill",f?t.get("pageIconColor",!0):t.get("pageIconInactiveColor",!0)),h.cursor=f?"pointer":"default")});var n=i.childOfName("pageText"),o=t.get("pageFormatter"),l=a.pageIndex,s=l!=null?l+1:0,u=a.pageCount;n&&o&&n.setStyle("text",X(o)?o.replace("{current}",s==null?"":s+"").replace("{total}",u==null?"":u+""):o({current:s,total:u}))},e.prototype._getPageInfo=function(t){var a=t.get("scrollDataIndex",!0),i=this.getContentGroup(),n=this._containerGroup.__rectSize,o=t.getOrient().index,l=jt[o],s=Kt[o],u=this._findTargetItemIndex(a),d=i.children(),c=d[u],f=d.length,h=f?1:0,v={contentPosition:[i.x,i.y],pageCount:h,pageIndex:h-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!c)return v;var p=w(c);v.contentPosition[o]=-p.s;for(var g=u+1,m=p,x=p,_=null;g<=f;++g)_=w(d[g]),(!_&&x.e>m.s+n||_&&!S(_,m.s))&&(x.i>m.i?m=x:m=_,m&&(v.pageNextDataIndex==null&&(v.pageNextDataIndex=m.i),++v.pageCount)),x=_;for(var g=u-1,m=p,x=p,_=null;g>=-1;--g)_=w(d[g]),(!_||!S(x,_.s))&&m.i<x.i&&(x=m,v.pagePrevDataIndex==null&&(v.pagePrevDataIndex=m.i),++v.pageCount,++v.pageIndex),m=_;return v;function w(D){if(D){var T=D.getBoundingRect(),C=T[s]+D[s];return{s:C,e:C+T[l],i:D.__legendDataIndex}}}function S(D,T){return D.e>=T&&D.s<=T+n}},e.prototype._findTargetItemIndex=function(t){if(!this._showController)return 0;var a,i=this.getContentGroup(),n;return i.eachChild(function(o,l){var s=o.__legendDataIndex;n==null&&s!=null&&(n=l),s===t&&(a=l)}),a??n},e.type="legend.scroll",e}(ii);function Jl(r){r.registerAction("legendScroll","legendscroll",function(e,t){var a=e.scrollDataIndex;a!=null&&t.eachComponent({mainType:"legend",subType:"scroll",query:e},function(i){i.setScrollDataIndex(a)})})}function Ql(r){Ye(oi),r.registerComponentModel(jl),r.registerComponentView(Kl),Jl(r)}function eu(r){Ye(oi),Ye(Ql)}const tu={__name:"advertisingPie",props:{data:{type:Array,required:!0},title:{type:String,default:""}},setup(r){Ye([Cs,Ns,Ul,Hl,eu]);const e=r,t=Wn(()=>({title:{text:e.title,left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"vertical",left:"left",data:e.data.map(a=>a.name)},series:[{name:e.title,type:"pie",radius:"55%",center:["50%","60%"],data:e.data,emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}));return(a,i)=>(V(),q(M(qn),{class:"chart",option:t.value,autoresize:""},null,8,["option"]))}},au=ue(tu,[["__scopeId","data-v-2b58dfbe"]]),ru={class:"analysis-page"},iu={__name:"DataAnalysis",setup(r){const e=B("广告种类与分布"),t=B([]),a=B(),i=B([]);async function n(){try{const u=await ne.post("http://localhost:8080/api/advertising-chart-data");t.value=u.data.data,l(),a.value=u.data.data.reduce((d,c)=>d+c.value,0)}catch(u){$.error("获取数据失败"+u.message)}}const o={电子产品:"电子产品广告通常包括手机、电脑、平板等高科技产品。",家居用品:"家居用品广告涵盖家具、厨具、装饰品等日常生活用品。",服装服饰:"服装服饰广告包括男装、女装、童装、鞋帽等时尚单品。",美妆护肤:"美妆护肤广告涉及化妆品、护肤品、香水等美容产品。",食品饮料:"食品饮料广告包括零食、饮料、保健品等食品相关产品。",汽车交通:"汽车交通广告涵盖汽车、摩托车、电动车等交通工具。",旅游出行:"旅游出行广告包括旅游景点、酒店、机票等旅游相关服务。"},l=()=>{i.value=t.value.map(u=>{const d=u.distributed,c=d>4*u.value?"热门":"普通";return{name:u.name,value:u.value,distributed:d,isHot:c,description:o[u.name]||"暂无描述"}})};ze(()=>{n()}),da(()=>{const u=setInterval(n,1e4);return()=>clearInterval(u)});const s=u=>u==="热门"?"red":"gray";return(u,d)=>{const c=me,f=De,h=Yn,v=pa,p=fa,g=ha;return V(),le("div",ru,[y(c,{class:"card",id:"chart-container",style:{width:"100%"}},{default:b(()=>[P("h1",null,"本网站总计广告数量："+K(a.value),1),y(au,{title:e.value,data:t.value},null,8,["title","data"])]),_:1}),y(c,{class:"card"},{default:b(()=>[y(g,{height:"150px","motion-blur":""},{default:b(()=>[(V(!0),le(At,null,ca(i.value,m=>(V(),q(p,{class:"advertising-description",key:m.id},{default:b(()=>[y(v,{title:m.name},{default:b(()=>[y(f,{label:"广告数量"},{default:b(()=>[N(K(m.value),1)]),_:2},1024),y(f,{label:"目前发布数量"},{default:b(()=>[N(K(m.distributed),1)]),_:2},1024),y(f,{label:"标记"},{default:b(()=>[y(h,{size:"large",style:ra({background:s(m.isHot),color:"white"})},{default:b(()=>[N(K(m.isHot),1)]),_:2},1032,["style"])]),_:2},1024),y(f,{label:"基本描述"},{default:b(()=>[N(K(m.description),1)]),_:2},1024)]),_:2},1032,["title"])]),_:2},1024))),128))]),_:1})]),_:1})])}}},nu=ue(iu,[["__scopeId","data-v-fbcbd5a6"]]),ou={key:0},su={__name:"advertisingTable",props:{data:{type:Array,required:!0},operation:{type:Boolean,required:!0},isRequest:{type:Boolean,required:!0}},emits:["deleteRow","requestRow","unRequestRow","selectIds"],setup(r,{emit:e}){const t=r,a=e,i=v=>{a("deleteRow",v)},n=v=>{a("requestRow",v)},o=v=>{a("unRequestRow",v)},l=B([]),s=v=>{if(t.isRequest){const p=v.filter(g=>g.isRequest!=="已申请");l.value=p.map(g=>g.id)}else l.value=v.map(p=>p.id);a("selectIds",l.value)};function u(v){return v.isRequest!=="已申请"}function d(v){return v.isRequest!=="审核中"}const c=v=>{switch(v){case"已申请":return"green";case"未申请":return"gray";case"审核中":return"red";default:return"black"}},f=v=>{switch(v){case"未发布":return"gray";case"已发布":return"green";case"审核中":return"red";default:return"black"}},h=(v,p)=>p.tag===v;return(v,p)=>{const g=pe,m=Ve,x=ga;return V(),q(x,{class:"table","row-style":{height:"100px"},data:t.data,type:t.operation?"selection":"",onSelectionChange:s},{default:b(()=>[y(g,{type:"selection",width:"55",selectable:u}),y(g,{class:"table-item",prop:"id",label:"广告序号",width:"120px",sortable:""}),t.isRequest?(V(),q(g,{key:0,class:"table-item",prop:"isRequest",label:"申请",width:"80px"},{default:b(_=>[P("span",{style:ra({color:c(_.row.isRequest),fontSize:"16px",fontWeight:"bold"})},K(_.row.isRequest),5)]),_:1})):Ee("",!0),t.operation?(V(),q(g,{key:1,class:"table-item",prop:"status",label:"状态",width:"120px"},{default:b(_=>[P("span",{style:ra({color:f(_.row.status),fontSize:"16px",fontWeight:"bold"})},K(_.row.status),5)]),_:1})):Ee("",!0),y(g,{class:"table-item",prop:"tag",label:"广告类型",width:"100px",filters:[{text:"电子产品",value:"电子产品"},{text:"家居用品",value:"家居用品"},{text:"服装服饰",value:"服装服饰"},{text:"美妆护肤",value:"美妆护肤"},{text:"食品饮料",value:"食品饮料"},{text:"汽车交通",value:"汽车交通"},{text:"旅游出行",value:"旅游出行"}],"filter-method":h,"filter-placement":"bottom-end"}),y(g,{class:"table-item",prop:"title",label:"广告标题",width:"100px"}),y(g,{class:"table-item",prop:"description",label:"广告描述"}),y(g,{class:"table-item",prop:"distributor",label:"发布商",width:"100px"}),y(g,{class:"table-item",prop:"cost",label:"广告价格",width:"120px",sortable:""}),y(g,{label:"操作",width:"100px"},Xn({_:2},[t.operation?{name:"default",fn:b(_=>[y(m,{type:"danger",size:"default",onClick:w=>i(_.row.id)},{default:b(()=>p[0]||(p[0]=[N("删除")])),_:2},1032,["onClick"])]),key:"0"}:void 0,t.isRequest?{name:"default",fn:b(_=>[d(_.row)?(V(),le("div",ou)):Ee("",!0),u(_.row)?(V(),q(m,{key:1,type:"primary",size:"default",onClick:w=>n(_.row.id)},{default:b(()=>p[1]||(p[1]=[N("申请 ")])),_:2},1032,["onClick"])):(V(),q(m,{key:2,type:"danger",size:"default",onClick:w=>o(_.row.id)},{default:b(()=>p[2]||(p[2]=[N("解除 ")])),_:2},1032,["onClick"]))]),key:"1"}:void 0]),1024)]),_:1},8,["data","type"])}}},si=ue(su,[["__scopeId","data-v-e948ec3b"]]),lu={class:"search"},uu={__name:"advertisingSearch",emits:["search"],setup(r,{emit:e}){const t=e,a=B("");return da(()=>{const i=a.value.trim().toLowerCase();t("search",i)}),(i,n)=>{const o=Er;return V(),le("div",lu,[n[1]||(n[1]=P("i",{class:"fa-solid fa-magnifying-glass"},null,-1)),y(o,{modelValue:a.value,"onUpdate:modelValue":n[0]||(n[0]=l=>a.value=l),style:{width:"240px","margin-left":"10px"},placeholder:"Please input",clearable:""},null,8,["modelValue"])])}}},li=ue(uu,[["__scopeId","data-v-0b5ba087"]]),du={class:"header-row"},cu={class:"demo-pagination-block"},fu={__name:"AdvertisementList",setup(r){const e=B([]),t=B([]),a=B([]),i=B(1),n=B(8),o=B(0);function l(){o.value=e.value.reduce((w,S)=>w+(S.isRequest==="未申请"?0:S.cost),0)}async function s(){try{const w=await ne.post("http://localhost:8080/api/advertising-table-data");Array.isArray(w.data.data)?(e.value=w.data.data,l()):$.error(w.data.message),p()}catch(w){$.error("获取表格数据失败:",w.message)}}const u=B([]),d=B(!1),c=w=>{u.value=w};async function f(){const w=u.value.length,S=[];for(let D=0;D<w;D++)S.push(u.value[D].id);for(let D=0;D<S.length;D++)await v(S[D])}async function h(w){try{const S=await ne.post("http://localhost:8080/api/unRequest-advertising",{id:w});if(S.data.code===200){const T=e.value.findIndex(C=>C.id===w);T!==-1&&(e.value[T].isRequest="未申请",l())}else $.error("广告解除失败:"+S.data.message)}catch(S){$.error(S.message)}}async function v(w){try{const S=await ne.post("http://localhost:8080/api/request-advertising",{id:w});if(S.data.code===200){const T=e.value.findIndex(C=>C.id===w);T!==-1&&(e.value[T].isRequest="已申请",l())}else $.error("广告申请失败:"+S.data.message)}catch(S){$.error(S.message)}}const p=(w="")=>{w===""?t.value=e.value:t.value=e.value.filter(S=>S.id.toString().includes(w)||S.tag.toLowerCase().includes(w)||S.distributor.toLowerCase().includes(w)),g()},g=()=>{const w=(i.value-1)*n.value,S=w+n.value;a.value=t.value.slice(w,S)},m=w=>{i.value=w,g()},x=w=>{n.value=w,g()};let _=null;return ze(()=>{s(),_=setInterval(s,1e4)}),Zn(()=>{clearInterval(_)}),Br(()=>e.value,()=>{p()}),(w,S)=>{const D=Ve,T=Nr,C=jn,A=me;return V(),q(A,{class:"card"},{default:b(()=>[P("div",du,[y(li,{onSearch:p}),d.value===!1?(V(),q(T,{key:0,"confirm-button-text":"确定","cancel-button-text":"取消",icon:M(Ue),"icon-color":"#626AEF",title:"确定申请?",onConfirm:f},{reference:b(()=>[y(D,{class:"button",type:"primary",size:"large"},{default:b(()=>S[2]||(S[2]=[N(" 申请广告 ")])),_:1})]),_:1},8,["icon"])):Ee("",!0),P("div",cu,[y(C,{"current-page":i.value,"onUpdate:currentPage":S[0]||(S[0]=I=>i.value=I),"page-size":n.value,"onUpdate:pageSize":S[1]||(S[1]=I=>n.value=I),layout:"prev, pager, next, jumper",total:t.value.length,onSizeChange:x,onCurrentChange:m},null,8,["current-page","page-size","total"])])]),P("h4",null,"申请金额："+K(o.value),1),y(si,{data:a.value,operation:!1,"is-request":!0,onRequestRow:v,onUnRequestRow:h,onSelectionChange:c},null,8,["data"])]),_:1})}}},hu=ue(fu,[["__scopeId","data-v-8deb314a"]]);function ui(r,e="JSON Data"){try{const t=JSON.stringify(r,null,2);console.log(`%c${e}:`,"color: #007bff; font-weight: bold;"),console.log(t)}catch(t){console.error("无法解析 JSON 数据:",t)}}const vu={__name:"advertisingCreatedForm",setup(r){const e=B(),t=B("http://localhost:8080/api/advertising-file-upload"),a=Kn({tag:"",title:"",description:"",distributor:"",cost:"",fileType:"",file:null}),i=B([]),n={tag:[{required:!0,message:"请选择广告类型",trigger:"change"}],title:[{required:!0,message:"请输入广告标题",trigger:"blur"}],description:[{required:!0,message:"请输入广告描述",trigger:"blur"}],distributor:[{required:!0,message:"请输入发布商",trigger:"blur"}],cost:[{required:!0,message:"请输入广告价格",trigger:"blur"}],fileType:[{required:!0,message:"请选择文件类型",trigger:"change"}],file:[{required:!0,message:"请上传广告资源",trigger:"change"}]},o=B(-1),l=d=>{a.file=d.raw},s=()=>{e.value&&e.value.validate(async d=>{if(d)try{const c=new FormData;c.append("file",a.file);const f=await ne.post(t.value,c);if(f.data.code===200){$.success("上传文件成功"),o.value=f.data.data.index;const v=(await ne.post("http://localhost:8080/api/upload-advertising",{tag:a.tag,title:a.title,description:a.description,distributor:a.distributor,cost:a.cost,fileId:o.value})).data;if(v.code===200){const p=v.data;ui(p),$.success("广告创建成功")}else $.error("广告创建失败"),await ne.delete(`http://localhost:8080/api/delete-file/${o.value}`)}else $.error("文件上传失败")}catch(c){o.value!==-1&&await ne.delete(`http://localhost:8080/api/delete-file/${o.value}`),$.error("操作失败: "+c.message)}else $.error("表单验证失败!")})},u=()=>{e.value&&(e.value.resetFields(),i.value=[],a.file=null)};return(d,c)=>{const f=Jn,h=Qn,v=eo,p=Er,g=Ve,m=to,x=ao;return V(),q(x,{ref_key:"ruleFormRef",ref:e,style:{"max-width":"600px"},model:a,rules:n,"label-width":"auto",class:"demo-ruleForm",size:"large","status-icon":""},{default:b(()=>[y(v,{label:"广告类型",prop:"tag"},{default:b(()=>[y(h,{modelValue:a.tag,"onUpdate:modelValue":c[0]||(c[0]=_=>a.tag=_),placeholder:"请选择广告类型"},{default:b(()=>[y(f,{label:"电子产品",value:"电子产品"}),y(f,{label:"家居用品",value:"家居用品"}),y(f,{label:"服装服饰",value:"服装服饰"}),y(f,{label:"美妆护肤",value:"美妆护肤"}),y(f,{label:"食品饮料",value:"食品饮料"}),y(f,{label:"汽车交通",value:"汽车交通"}),y(f,{label:"旅游出行",value:"旅游出行"})]),_:1},8,["modelValue"])]),_:1}),y(v,{label:"广告标题",prop:"title"},{default:b(()=>[y(p,{modelValue:a.title,"onUpdate:modelValue":c[1]||(c[1]=_=>a.title=_)},null,8,["modelValue"])]),_:1}),y(v,{label:"广告描述",prop:"description"},{default:b(()=>[y(p,{modelValue:a.description,"onUpdate:modelValue":c[2]||(c[2]=_=>a.description=_),type:"textarea"},null,8,["modelValue"])]),_:1}),y(v,{label:"发布商",prop:"distributor"},{default:b(()=>[y(p,{modelValue:a.distributor,"onUpdate:modelValue":c[3]||(c[3]=_=>a.distributor=_)},null,8,["modelValue"])]),_:1}),y(v,{label:"广告价格",prop:"cost"},{default:b(()=>[y(p,{modelValue:a.cost,"onUpdate:modelValue":c[4]||(c[4]=_=>a.cost=_)},null,8,["modelValue"])]),_:1}),y(v,{label:"文件类型",prop:"fileType"},{default:b(()=>[y(h,{modelValue:a.fileType,"onUpdate:modelValue":c[5]||(c[5]=_=>a.fileType=_),placeholder:"请选择文件类型"},{default:b(()=>[y(f,{label:"图片",value:"image"}),y(f,{label:"视频",value:"video"}),y(f,{label:"文档",value:"document"})]),_:1},8,["modelValue"])]),_:1}),y(v,{label:"广告资源",prop:"file"},{default:b(()=>[y(m,{class:"upload-demo","auto-upload":!1,"on-change":l,"file-list":i.value,limit:1},{tip:b(()=>c[7]||(c[7]=[P("div",{class:"el-upload__tip"}," 只能上传一个文件，且文件类型必须与选择的文件类型匹配 ",-1)])),default:b(()=>[y(g,{type:"primary"},{default:b(()=>c[6]||(c[6]=[N("选择文件")])),_:1})]),_:1},8,["file-list"])]),_:1}),y(v,null,{default:b(()=>[y(g,{type:"primary",onClick:s},{default:b(()=>c[8]||(c[8]=[N(" 创建 ")])),_:1}),y(g,{onClick:u},{default:b(()=>c[9]||(c[9]=[N("重置")])),_:1})]),_:1})]),_:1},8,["model"])}}},pu=ue(vu,[["__scopeId","data-v-93fe3142"]]),gu={class:"header-row"},mu={class:"header-row-button"},_u={key:0,class:"fa-solid fa-plus"},yu={key:1,class:"fa-solid fa-minus"},xu={__name:"YourAdvertisement",setup(r){const e=B([]),t=B([]);async function a(){try{const c=await ne.post("http://localhost:8080/api/advertising-id-table-data");Array.isArray(c.data.data)?e.value=c.data.data:$.error(c.data.message),s()}catch(c){$.error("获取表格数据失败:"+c.message)}}const i=B([]),n=c=>{i.value=c};async function o(){const c=i.value.length,f=[];for(let h=0;h<c;h++)f.push(i.value[h].id);for(let h=0;h<f.length;h++)await l(f[h])}async function l(c){try{const f=await ne.post("http://localhost:8080/api/delete-advertising",{id:c});f.data.code===200?($.success("广告删除成功"),e.value=e.value.filter(v=>v.id!==c),s()):$.error("广告删除失败:"+f.data.message)}catch(f){$.error(f.message)}}const s=c=>{c===""?t.value=e.value:t.value=e.value.filter(f=>f.id.toString().includes(c)||f.tag.toLowerCase().includes(c)||f.distributor.toLowerCase().includes(c))},u=B(!1),d=()=>{u.value=!u.value};return ze(()=>{a()}),Br(()=>e.value,()=>{s()}),(c,f)=>{const h=Ve,v=Nr,p=me;return V(),q(p,{class:"card"},{default:b(()=>[P("div",gu,[y(li,{onSearch:s}),P("div",mu,[u.value===!1?(V(),q(v,{key:0,"confirm-button-text":"确定","cancel-button-text":"取消",icon:M(Ue),"icon-color":"#626AEF",title:"确定使用批量删除?",onConfirm:o},{reference:b(()=>[y(h,{class:"button",type:"danger",size:"large"},{default:b(()=>f[0]||(f[0]=[N(" 批量删除 ")])),_:1})]),_:1},8,["icon"])):Ee("",!0),y(h,{class:"button",type:"primary",onClick:d,size:"large"},{default:b(()=>[u.value?(V(),le("i",yu)):(V(),le("i",_u))]),_:1})])]),u.value?(V(),q(pu,{key:0})):(V(),q(si,{key:1,data:t.value,operation:!0,"is-request":!1,onDeleteRow:l,onSelectionChange:n},null,8,["data"]))]),_:1})}}},bu=ue(xu,[["__scopeId","data-v-26e48f0b"]]),wu=["src"],Su={class:"content-wrapper"},Cu={class:"user-info"},Tu={__name:"UserList",setup(r){const e=B([{id:0,title:"轮播图1",url:"userInfoImages/【哲风壁纸】佐贺（明日方舟）-动漫女孩.png"},{id:1,title:"轮播图2",url:"userInfoImages/【哲风壁纸】凌（明日方舟）-动漫女孩.png"},{id:2,title:"轮播图3",url:"loginBack.png"},{id:3,title:"轮播图4",url:"userInfoImages/【哲风壁纸】秋天-蜡笔小新.png"}]),t=B(""),a=B(""),i=B("");ze(()=>{t.value=localStorage.getItem("name")||"未知用户",a.value=localStorage.getItem("role")||"未知角色",i.value=localStorage.getItem("cookie")||"未知密钥"});const n=B(new Date().toLocaleTimeString());return setInterval(()=>{n.value=new Date().toLocaleTimeString()},1e3),(o,l)=>(V(),le(At,null,[y(M(me),{class:"carousel-card"},{default:b(()=>[y(M(ha),{height:"400px","motion-blur":"",style:{"border-radius":"10px","margin-top":"20px"}},{default:b(()=>[(V(!0),le(At,null,ca(e.value,s=>(V(),q(M(fa),{key:s.id},{default:b(()=>[P("img",{src:s.url,style:{"object-fit":"cover",height:"100%",width:"100%"},alt:""},null,8,wu),P("span",null,K(s.title),1)]),_:2},1024))),128))]),_:1})]),_:1}),y(M(me),{class:"user-info-card"},{default:b(()=>[P("div",Su,[P("div",Cu,[y(M(pa),{title:"用户详情",direction:"vertical",border:""},{default:b(()=>[y(M(De),{label:"用户名"},{default:b(()=>[N(K(t.value),1)]),_:1}),y(M(De),{label:"角色"},{default:b(()=>[N(K(a.value),1)]),_:1}),y(M(De),{label:"Cookie"},{default:b(()=>[N(K(i.value),1)]),_:1})]),_:1})])])]),_:1})],64))}},Du=ue(Tu,[["__scopeId","data-v-86491bf4"]]),Iu={class:"card-header"},Au={key:0,class:"error-message"},Lu=["href"],Pu={class:"api-code-section"},Ru={class:"buttons"},ku={__name:"UserAdvertisementRequest",setup(r){const e=B([]),t=B(""),a=B("http://localhost:8080/api/fetch-request-ads"),i=B(""),n=B("");n.value=localStorage.getItem("cookie")||null;const o=async()=>{try{const d=await ne.post("http://localhost:8080/api/fetch-request-ads",{userCookie:n.value});d.data.code===200?(e.value=d.data.data,ui(d.data)):t.value=d.data.message}catch(d){console.error("获取广告数据失败:",d),t.value="网络请求失败，请稍后重试"}},l=()=>{i.value=`
fetch('${a.value}', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
  },
  body: JSON.stringify({
    userCookie: ${n.value},
  }),
})
  .then(response => response.json())
  .then(data => console.log(data))
  .catch(error => console.error('Error:', error));
`},s=()=>{navigator.clipboard.writeText(i.value).then(()=>{$.success("代码已复制到剪贴板！")}).catch(()=>{$.error("复制失败，请手动复制代码。")})},u=()=>{const d=new Blob([i.value],{type:"text/plain"}),c=URL.createObjectURL(d),f=document.createElement("a");f.href=c,f.download="fetch_api_code.txt",f.click(),URL.revokeObjectURL(c)};return ze(()=>{o(),l()}),(d,c)=>{const f=Ve,h=pe,v=ga,p=me;return V(),q(p,null,{header:b(()=>[P("div",Iu,[c[1]||(c[1]=P("span",null,"广告申请数据",-1)),y(f,{type:"primary",onClick:l},{default:b(()=>c[0]||(c[0]=[N(" 生成 API 调用代码 ")])),_:1})])]),default:b(()=>[t.value?(V(),le("div",Au,K(t.value),1)):Ee("",!0),y(v,{data:e.value,style:{width:"100%"}},{default:b(()=>[y(h,{prop:"id",label:"ID",width:"180"}),y(h,{prop:"tags",label:"标签",width:"80"}),y(h,{prop:"title",label:"标题",width:"120"}),y(h,{prop:"description",label:"描述"}),y(h,{prop:"fileId",label:"广告资源链接",width:"280"},{default:b(g=>[P("a",{href:g.row.fileId,target:"_blank"},K(g.row.fileId),9,Lu)]),_:1})]),_:1},8,["data"]),P("div",Pu,[c[4]||(c[4]=P("h3",null,"API 调用代码",-1)),P("pre",null,K(i.value),1),P("div",Ru,[y(f,{type:"primary",onClick:s},{default:b(()=>c[2]||(c[2]=[N("复制代码")])),_:1}),y(f,{type:"success",onClick:u},{default:b(()=>c[3]||(c[3]=[N("下载代码")])),_:1})])])]),_:1})}}},Ou=ue(ku,[["__scopeId","data-v-80fb1bd2"]]),Mu={class:"about-us-container"},Eu={class:"card-header"},Bu={class:"card-header"},Nu={class:"card-header"},zu={__name:"AboutUs",setup(r){return(e,t)=>(V(),le("div",Mu,[y(M(me),{class:"company-intro"},{header:b(()=>[P("div",Eu,[y(M(ye),null,{default:b(()=>[y(M(Ue))]),_:1}),t[0]||(t[0]=P("span",null,"公司简介",-1))])]),default:b(()=>[t[1]||(t[1]=P("p",null," 我们是一家致力于技术创新和用户体验的公司。自成立以来，我们始终秉持“客户至上，质量为本”的理念，为客户提供高效、可靠的解决方案。 ",-1))]),_:1}),y(M(me),{class:"company-info"},{header:b(()=>[P("div",Bu,[y(M(ye),null,{default:b(()=>[y(M(Ue))]),_:1}),t[2]||(t[2]=P("span",null,"公司信息",-1))])]),default:b(()=>[y(M(pa),{column:1,border:""},{default:b(()=>[y(M(De),{label:"公司名称"},{default:b(()=>[y(M(ye),null,{default:b(()=>[y(M(Ue))]),_:1}),t[3]||(t[3]=N(" 上海理工大学 "))]),_:1}),y(M(De),{label:"地址"},{default:b(()=>[y(M(ye),null,{default:b(()=>[y(M(ro))]),_:1}),t[4]||(t[4]=N(" 上海市杨浦区军工路516号 "))]),_:1}),y(M(De),{label:"电话"},{default:b(()=>[y(M(ye),null,{default:b(()=>[y(M(io))]),_:1}),t[5]||(t[5]=N(" 112233445566 "))]),_:1}),y(M(De),{label:"邮箱"},{default:b(()=>[y(M(ye),null,{default:b(()=>[y(M(no))]),_:1}),t[6]||(t[6]=N(" info@innovatech.com "))]),_:1})]),_:1})]),_:1}),y(M(me),{class:"team-intro"},{header:b(()=>[P("div",Nu,[y(M(ye),null,{default:b(()=>[y(M(Ue))]),_:1}),t[7]||(t[7]=P("span",null,"团队介绍",-1))])]),default:b(()=>[t[8]||(t[8]=P("p",null," 广告网站@Asaki0019个人独立开发 ",-1))]),_:1})]))}},Vu=ue(zu,[["__scopeId","data-v-2e77763f"]]),Gu=["href"],Hu={__name:"AdvertisingReview",setup(r){const e=B([]),t=async()=>{try{const i=await ne.post("http://localhost:8080/api/advertising-review-data");i.data.code===200&&(e.value=i.data.data)}catch(i){$.error("获取数据失败"+i.message)}},a=async i=>{try{const n=await ne.post("http://localhost:8080/api/advertising-review-data-ok",{id:i});n.data.code===200&&(e.value=e.value.filter(o=>o.id!==n.data.id))}catch(n){$.error("获取数据失败"+n.message)}};return ze(()=>{t()}),(i,n)=>(V(),q(M(me),{class:"card"},{default:b(()=>[y(M(ga),{data:e.value,style:{width:"100%"}},{default:b(()=>[y(M(pe),{prop:"id",label:"ID",width:"100"}),y(M(pe),{prop:"tag",label:"标签",width:"100"}),y(M(pe),{prop:"title",label:"标题",width:"100"}),y(M(pe),{prop:"description",label:"描述"}),y(M(pe),{prop:"distributor",label:"发布商",width:"150"}),y(M(pe),{prop:"cost",label:"价格",width:"100"}),y(M(pe),{label:"广告资源",width:"150"},{default:b(o=>[P("a",{href:o.row.url,target:"_blank"},K(o.row.url),9,Gu)]),_:1}),y(M(pe),{label:"操作",width:"100"},{default:b(o=>[y(M(Ve),{type:"success",onClick:l=>a(o.row.id)},{default:b(()=>n[0]||(n[0]=[N("允许")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1}))}},Fu=ue(Hu,[["__scopeId","data-v-e2377894"]]),$u={class:"common-layout"},Uu={class:"toolbar"},Wu={class:"block"},qu={class:"float-button"},Yu={__name:"MainView",setup(r){const e=B(localStorage.getItem("name")),t=B(localStorage.getItem("role")),a=B("avatar.jpg"),i=B("1-1"),n={"1-1":Wo,"1-2":nu,"2-1":hu,"2-2":bu,"2-3":Ou,"2-4":Fu,"3-1":Du,"4-1":Vu};async function o(){try{(await ne.get("http://localhost:8080/api/exit")).data.code===200?(localStorage.clear(),await uo.replace("/")):$.error("error")}catch(s){console.log(s)}}function l(s){i.value=s}return(s,u)=>{const d=ye,c=co,f=fo,h=ho,v=oo("v-messages"),p=vo,g=po,m=go,x=mo,_=_o,w=yo,S=xo,D=bo,T=wo,C=Ve,A=so;return V(),le("div",$u,[y(A,{class:"layout-container-main"},{default:b(()=>[y(m,{class:"sidebar",width:"200px"},{default:b(()=>[y(g,{class:"sidebar-scrollbar"},{default:b(()=>[y(p,{class:"sidebar-menu","default-active":i.value},{default:b(()=>[y(h,{class:"menu-item",index:"1"},{title:b(()=>[y(d,null,{default:b(()=>u[8]||(u[8]=[P("i",{class:"fas fa-home"},null,-1)])),_:1}),u[9]||(u[9]=N(" 仪表盘 "))]),default:b(()=>[y(f,null,{default:b(()=>[y(c,{class:"menu-item",index:"1-1",onClick:u[0]||(u[0]=I=>l("1-1"))},{default:b(()=>u[10]||(u[10]=[N("概览 ")])),_:1}),y(c,{class:"menu-item",index:"1-2",onClick:u[1]||(u[1]=I=>l("1-2"))},{default:b(()=>u[11]||(u[11]=[N("数据分析 ")])),_:1})]),_:1})]),_:1}),y(h,{class:"menu-item",index:"2"},{title:b(()=>[y(d,null,{default:b(()=>u[12]||(u[12]=[P("i",{class:"fa-brands fa-algolia"},null,-1)])),_:1}),u[13]||(u[13]=N(" 广告管理 "))]),default:b(()=>[y(f,null,{default:b(()=>[y(c,{class:"menu-item",index:"2-1",onClick:u[2]||(u[2]=I=>l("2-1"))},{default:b(()=>u[14]||(u[14]=[N("广告列表 ")])),_:1}),y(c,{class:"menu-item",index:"2-2",onClick:u[3]||(u[3]=I=>l("2-2"))},{default:b(()=>u[15]||(u[15]=[N("你的广告 ")])),_:1}),y(c,{class:"menu-item",index:"2-3",onClick:u[4]||(u[4]=I=>l("2-3"))},{default:b(()=>u[16]||(u[16]=[N("广告申请 ")])),_:1}),t.value==="admin"?(V(),q(c,{key:0,class:"menu-item",index:"2-4",onClick:u[5]||(u[5]=I=>l("2-4"))},{default:b(()=>u[17]||(u[17]=[N("广告审核 ")])),_:1})):Ee("",!0)]),_:1})]),_:1}),y(h,{class:"menu-item",index:"3"},{title:b(()=>[y(d,null,{default:b(()=>[u[18]||(u[18]=P("i",{class:"fa-solid fa-user"},null,-1)),y(v)]),_:1}),u[19]||(u[19]=N(" 用户管理 "))]),default:b(()=>[y(c,{class:"menu-item",index:"3-1",onClick:u[6]||(u[6]=I=>l("3-1"))},{default:b(()=>u[20]||(u[20]=[N(" 用户 ")])),_:1})]),_:1}),y(h,{class:"menu-item",index:"4"},{title:b(()=>[y(d,null,{default:b(()=>u[21]||(u[21]=[P("i",{class:"fa-solid fa-bars"},null,-1)])),_:1}),u[22]||(u[22]=N(" 关于 "))]),default:b(()=>[y(c,{class:"menu-item",index:"4-1",onClick:u[7]||(u[7]=I=>l("4-1"))},{default:b(()=>u[23]||(u[23]=[N("关于我们")])),_:1})]),_:1})]),_:1},8,["default-active"])]),_:1})]),_:1}),y(A,null,{default:b(()=>[y(D,{class:"header",style:{"text-align":"right","font-size":"12px"}},{default:b(()=>[P("div",Uu,[y(w,{class:"dropdown"},{dropdown:b(()=>[y(_,{class:"dropdown-menu"},{default:b(()=>[y(x,{class:"dropdown-item"},{default:b(()=>u[25]||(u[25]=[N("Edit")])),_:1})]),_:1})]),default:b(()=>[y(d,{style:{"margin-right":"18px"}},{default:b(()=>u[24]||(u[24]=[P("i",{class:"fa-solid fa-gear"},null,-1)])),_:1})]),_:1}),P("span",null,K(e.value),1),P("div",Wu,[y(S,{size:50,src:a.value,style:{"margin-top":"20px","margin-left":"10px"}},null,8,["src"])])])]),_:1}),y(T,null,{default:b(()=>[(V(),q(lo(n[i.value])))]),_:1}),P("div",qu,[y(C,{type:"primary",onClick:o},{default:b(()=>u[26]||(u[26]=[P("i",{class:"fa-solid fa-right-from-bracket"},null,-1)])),_:1})])]),_:1})]),_:1})])}}},Zu=ue(Yu,[["__scopeId","data-v-2e85a2fb"]]);export{Zu as default};
